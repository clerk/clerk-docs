---
title: Create a custom Forgot Password flow using Clerk's API
description: Create a custom forgot password flow for your users using the lower level methods provided by the Clerk iOS SDK.
---

# Create a custom Forgot Password flow using Clerk's API

You can create a custom **Forgot Password** flow using the lower-level methods provided by the Clerk iOS SDK.

In the following example, the user is asked to provide their email address. After submitting their email, the user is asked to provide a new password and the password reset code that was sent to their email. The user is then signed in with their new password.

Note that this example's user interface does not handle 2FA (two-factor authentication). If it detects that 2FA is needed for the account trying to reset the password, it will display a message to the user that says "2FA is required, but this UI does not handle that".

```swift
import SwiftUI
import ClerkSDK

struct ForgotPasswordView: View {
    @ObservedObject private var clerk = Clerk.shared
    
    var body: some View {
        if let signIn = clerk.client?.signIn {
            switch signIn.status {
            case .needsIdentifier:
                // For this example, we assume the SignIn 
                // was already created with an email identifier
            case .needsFirstFactor:
                Text("Forgot Password?")
                Button("Reset Password", action: resetPassword)
            case .needsSecondFactor:
                Text("2FA is required, but this UI does not handle that")
            case .needsNewPassword:
                //
            case .complete:
                //
            case .abandoned:
                //
            }
        }
    }
    
    private func resetPassword() {
        Task {
            do {
                try await clerk.client?.signIn?.resetPassword(.init(password: "********", signOutOfOtherSessions: true))
                try await clerk.client?.signIn?.attemptFirstFactor(for: .resetPasswordEmailCode(code: "123456"))
            } catch {
                print(error.localizedDescription)
            }
        }
    }
}
```

## Prompting users to reset compromised passwords during sign-in

If you have enabled [rejection of compromised passwords also on sign-in](/docs/security/password-protection#reject-compromised-passwords-on-sign-in), then it is possible for the sign-in attempt to be rejected with the `form_password_pwned` error code.

In this case, you can prompt the user to reset their password using the exact same logic detailed in the previous section.
