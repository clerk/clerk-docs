---
title: Next.js Quickstart
description: Add authentication and user management to your Next.js app with Clerk.
---

<TutorialHero
  framework="nextjs"
  beforeYouStart={[
    {
      title: "Set up a Clerk application",
      link: "https://clerk.com/docs/quickstarts/setup-clerk",
    },
    {
      title: "Create a Next.js application",
      link: "https://nextjs.org/docs/getting-started/installation",
    },
  ]}
>

- Install `@clerk/nextjs`
- Set up your environment keys to test your app locally
- Protect your Next.js app's content with Clerk
- Use Next.js middleware to implement route-specific authentication
- Create a header with Clerk components for users to sign in and out

</TutorialHero>

<Steps>

### Install `@clerk/nextjs`

Clerk's [Next.js SDK](/docs/references/nextjs/overview) has prebuilt components, React hooks, and helpers to make user authentication easier.

To get started using Clerk with Next.js, add the SDK to your project:

<CodeBlockTabs type="installer" options={["npm", "yarn", "pnpm"]}>
  ```bash filename="terminal"
  npm install @clerk/nextjs@beta
  ```

```bash filename="terminal"
yarn add @clerk/nextjs@beta
```

```bash filename="terminal"
pnpm add @clerk/nextjs@beta
```

</CodeBlockTabs>

### Set your environment keys

1. If you don't have a `.env.local` file in the root directory of your Next.js project, create one now.
2. Find your publishable key and secret key. If you're signed into Clerk, the `.env.local` snippet below will contain your keys. Otherwise:
  - Navigate to your [Clerk Dashboard](https://dashboard.clerk.com/last-active?path=api-keys).
  - Select your application, then select **ðŸ”‘ API Keys** in the sidebar menu.
  - You can copy your keys from the **Quick Copy** section.
3. Add your keys to your `.env.local` file.

The final result should look as follows:

  <InjectKeys>

  ```sh filename=".env.local"
  NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY={{pub_key}}
  CLERK_SECRET_KEY={{secret}}
  ```

  </InjectKeys>

### Add `<ClerkProvider>` to your app

All Clerk hooks and components must be children of the [`<ClerkProvider>`](/docs/components/clerk-provider) component, which provides active session and user context.

Select your preferred router below to learn how to make this data available across your entire app:

<Tabs type="router" items={["App Router", "Pages Router"]}>
  <Tab>
  <Callout type="info">
    If you are not using `src`, the `app/layout.tsx` file will be in your root folder.
  </Callout>

  ```tsx filename="src/app/layout.tsx" {1,10-14}
  import { ClerkProvider } from '@clerk/nextjs'
  import './globals.css'

  export default function RootLayout({
    children,
  }: {
    children: React.ReactNode
  }) {
    return (
      <ClerkProvider>
        <html lang="en">
          <body>{children}</body>
        </html>
      </ClerkProvider>
    )
  }
  ```
  </Tab>

  <Tab>
  <Callout type="info">
    If you are not using `src`, the `_app.tsx` file will be in your root folder.
  </Callout>

  ```tsx filename="/src/pages/_app.tsx" {2,6-8}
    import '@/styles/globals.css'
    import { ClerkProvider } from "@clerk/nextjs/server";
    import type { AppProps } from "next/app";
    function MyApp({ Component, pageProps }: AppProps) {
      return (
        <ClerkProvider {...pageProps}>
          <Component {...pageProps} />
        </ClerkProvider>
      );
    }
    export default MyApp;
  ```
  </Tab>
</Tabs>

### Add Middleware to your application

Middleware grants you access to user authentication state throughout your application, on any route or page. With `clerkMiddleware()` offers the capability to protect routes, it does not enforce protection by default. Please see the [`clerkMiddleware()` reference](/docs/references/nextjs/clerk-middleware) and the [Route Protection guide](/docs/references/nextjs/route-protection) for information on protecting routes.

1. Create a `middleware.ts` file at the root of your project, or in your `src/` directory if you have one.
2. In your middleware.ts, export Clerk's `clerkMiddleware()` helper:
  ```tsx filename="/src/middleware.ts"
  import { clerkMiddleware } from "@clerk/nextjs/server";

  export default clerkMiddleware();

  export const config = {
    matcher: ['/((?!.*\\..*|_next).*)', '/', '/(api|trpc)(.*)'],
  };
  ```
3. By default, `clerkMiddleware()` will not protect any routes. All routes are public and you must opt-in to protection for routes. See the [`clerkMiddleware()` docs](https://github.com/docs/references/nextjs/clerk-middleware) to learn how to require authentication for specific routes.

### Create a header with Clerk components

You can control which content signed in and signed out users can see with Clerk's [prebuilt components](/docs/components/overview). To get started, create a header for your users to sign in or out. To do this, you will use:

- [`<SignedIn>`](/docs/components/control/signed-in): Children of this component can only be seen while **signed in**.
- [`<SignedOut>`](/docs/components/control/signed-in): Children of this component can only be seen while **signed out**.
- [`<UserButton />`](/docs/components/user/user-button): A prebuilt component that comes styled out of the box to show the avatar from the account the user is signed in with.
- [`<SignInButton />`](/docs/components/unstyled/sign-in-button): An unstyled component that links to the sign-in page or displays the sign-in modal.

<CodeBlockTabs type="router" options={["App Router", "Pages Router"]}>
```tsx filename="app/page.tsx" {1,6-11}
import { SignedIn, SignedOut, SignInButton, UserButton } from "@clerk/nextjs";

export default function Home() {
  return (
    <header>
      <SignedOut>
        <SignInButton />
      </SignedOut>
      <SignedIn>
        <UserButton />
      </SignedIn>
    </header>
  )
}
```
```tsx filename="pages/index.tsx" {1,6-11}
import { SignedIn, SignedOut, SignInButton, UserButton } from "@clerk/nextjs";

export default function Page() {
  return (
    <header>
      <SignedOut>
        <SignInButton />
      </SignedOut>
      <SignedIn>
        <UserButton />
      </SignedIn>
    </header>
  );
}
```
</CodeBlockTabs>

Then, visit your app's homepage at [`localhost:3000`](http://localhost:3000) while signed out or signed in to see `<SignInButton />` or `<UserButton />` in action.

</Steps>

## Next steps

- Learn how to use Clerk's hooks and helpers to access the active user and session data.
<br/>[Read the guide &raquo;](/docs/references/nextjs/read-session-data)

- Learn how to add your own sign-up and sign-in pages with Clerk components
<br/>[Read the guide &raquo;](/docs/references/nextjs/custom-signup-signin-pages)

## More resources

<div className="container mx-auto my-4">
  <div className="grid grid-cols-1 gap-6 md:grid-cols-2">
<Cards title="Clerk + Next.js App Router Demo" description="See an example application that demonstrates user authentication, and session and organization management." link="/docs/references/nextjs/custom-signup-signin-pages" cta="Learn More" />

<Cards title="Clerk + Next.js Pages Router Demo" description="See an example application that demonstrates user authentication, and session and organization management." link="/docs/references/nextjs/custom-signup-signin-pages" cta="Learn More" />

    <Cards title="Client Side Helpers" description="Learn more about Next.js client side helpers and how to use them." link="/docs/references/nextjs/overview#client-side-helpers" cta="Learn More" />

    <Cards title="Next.js SDK Reference" description="Learn more about additional Next.js methods." link="/docs/references/nextjs/overview" cta="Learn More" />

    <Cards title="Deploy to Production" description="Learn how to deploy your Clerk app to production." link="/docs/deployments/overview" cta="Learn More" />

    <Cards title="Deploy to Vercel" description="Learn how to deploy your Clerk app to production on Vercel." link="/docs/deployments/deploy-to-vercel" cta="Learn More" />
  </div>
</div>
