---
title: Build a custom flow for handling legal acceptance
description: Learn how to use the Clerk API to build a custom user interface for handling legal acceptance.
---

When the legal acceptance feature is enabled, users are required to agree to your Terms of Service and Privacy Policy before they can sign up to your application.

If you're using the `<SignUp />` component, a checkbox appears and the legal acceptance flow is handled for you. However, if you're building a custom user interface, you need to handle legal acceptance in your sign-up form.

This guide demonstrates how to use the Clerk API to build a custom user interface for handling legal acceptance.

## Before you start

By default, the legal acceptance feature is disabled. To enable it, navigate to the [**Legal**](https://dashboard.clerk.com/~/compliance/legal) page in the Clerk Dashboard.

## Add legal acceptance to your sign-up flow

To support legal acceptance, you need to add a checkbox to your sign-up form, capture the checkbox value, and pass it to the [`SignUp.create()`](/docs/reference/javascript/sign-up#create) method.

The following example adds the legal acceptance logic to the [Email and password custom flow](/docs/guides/development/custom-flows/authentication/email-password), but you can apply the same logic to any custom flow. This example is written for Next.js App Router but it can be adapted for any React-based framework.

<Tabs items={["Next.js", "Expo"]}>
  <Tab>
    ```tsx {{ filename: 'app/sign-up/[[...sign-up]]/page.tsx', mark: [12, 28, [129, 141]], collapsible: true }}
    'use client'

    import * as React from 'react'
    import { useSignUp } from '@clerk/nextjs'
    import { useRouter } from 'next/navigation'
    import Link from 'next/link'

    export default function Page() {
      const { isLoaded, signUp, setActive } = useSignUp()
      const [emailAddress, setEmailAddress] = React.useState('')
      const [password, setPassword] = React.useState('')
      const [legalAccepted, setLegalAccepted] = React.useState(false)
      const [verifying, setVerifying] = React.useState(false)
      const [code, setCode] = React.useState('')
      const router = useRouter()

      // Handle submission of the sign-up form
      const handleSubmit = async (e: React.FormEvent) => {
        e.preventDefault()

        if (!isLoaded) return <div>Loading...</div>

        // Start the sign-up process using the email and password provided
        try {
          await signUp.create({
            emailAddress,
            password,
            legalAccepted,
          })

          // Send the user an email with the verification code
          await signUp.prepareEmailAddressVerification({
            strategy: 'email_code',
          })

          // Set 'verifying' true to display second form
          // and capture the code
          setVerifying(true)
        } catch (err: any) {
          // See https://clerk.com/docs/guides/development/custom-flows/error-handling
          // for more info on error handling
          console.error(JSON.stringify(err, null, 2))
        }
      }

      // Handle the submission of the verification form
      const handleVerify = async (e: React.FormEvent) => {
        e.preventDefault()

        if (!isLoaded) return <div>Loading...</div>

        try {
          // Use the code the user provided to attempt verification
          const signUpAttempt = await signUp.attemptEmailAddressVerification({
            code,
          })

          // If verification was completed, set the session to active
          // and redirect the user
          if (signUpAttempt.status === 'complete') {
            await setActive({
              session: signUpAttempt.createdSessionId,
              navigate: async ({ session }) => {
                if (session?.currentTask) {
                  // Check for session tasks and navigate to custom UI to help users resolve them
                  // See https://clerk.com/docs/guides/development/custom-flows/overview#session-tasks
                  console.log(session?.currentTask)
                  router.push('/sign-up/tasks')
                  return
                }

                router.push('/')
              },
            })
          } else {
            // If the status is not complete, check why. User may need to
            // complete further steps.
            console.error('Sign-up attempt not complete:', signUpAttempt)
            console.error('Sign-up attempt status:', signUpAttempt.status)
          }
        } catch (err: any) {
          // See https://clerk.com/docs/guides/development/custom-flows/error-handling
          // for more info on error handling
          console.error(JSON.stringify(err, null, 2))
        }
      }

      // Display the verification form to capture the code
      if (verifying) {
        return (
          <>
            <h1>Verify your email</h1>
            <form onSubmit={handleVerify}>
              <label id="code">Enter your verification code</label>
              <input value={code} id="code" name="code" onChange={(e) => setCode(e.target.value)} />
              <button type="submit">Verify</button>
            </form>
          </>
        )
      }

      // Display the initial sign-up form to capture the email and password
      return (
        <>
          <h1>Sign up</h1>
          <form onSubmit={handleSubmit}>
            <div>
              <label htmlFor="email">Enter email address</label>
              <input
                id="email"
                type="email"
                name="email"
                value={emailAddress}
                onChange={(e) => setEmailAddress(e.target.value)}
              />
            </div>

            <div>
              <label htmlFor="password">Enter password</label>
              <input
                id="password"
                type="password"
                name="password"
                value={password}
                onChange={(e) => setPassword(e.target.value)}
              />
            </div>

            <div>
              <label htmlFor="legalAccepted">
                I accept the <Link href="/terms">Terms of Service</Link> and{' '}
                <Link href="/privacy">Privacy Policy</Link>
              </label>
              <input
                id="legalAccepted"
                type="checkbox"
                name="legalAccepted"
                checked={legalAccepted}
                onChange={(e) => setLegalAccepted(e.target.checked)}
              />
            </div>

            {/* Required for sign-up flows
            Clerk's bot sign-up protection is enabled by default */}
            <div id="clerk-captcha" />

            <div>
              <button type="submit">Continue</button>
            </div>
          </form>
        </>
      )
    }
    ```
  </Tab>

  <Tab>
    This example uses `expo-checkbox` to create the checkbox. Install it with the following command:

    ```npm
    npm install expo-checkbox
    ```

    ```tsx {{ filename: 'app/(auth)/sign-up.tsx', collapsible: true }}
    import * as React from 'react'
    import { Text, TextInput, Button, View, Pressable } from 'react-native'
    import { useSignUp } from '@clerk/clerk-expo'
    import { Link, useRouter } from 'expo-router'
    import Checkbox from 'expo-checkbox'

    export default function Page() {
      const { isLoaded, signUp, setActive } = useSignUp()
      const router = useRouter()

      const [emailAddress, setEmailAddress] = React.useState('')
      const [password, setPassword] = React.useState('')
      const [legalAccepted, setLegalAccepted] = React.useState(false)
      const [pendingVerification, setPendingVerification] = React.useState(false)
      const [code, setCode] = React.useState('')

      // Handle submission of sign-up form
      const onSignUpPress = async () => {
        if (!isLoaded) return

        // Start sign-up process using email and password provided
        try {
          await signUp.create({
            emailAddress,
            password,
            legalAccepted,
          })

          // Send user an email with verification code
          await signUp.prepareEmailAddressVerification({ strategy: 'email_code' })

          // Set 'pendingVerification' to true to display second form
          // and capture code
          setPendingVerification(true)
        } catch (err) {
          // See https://clerk.com/docs/guides/development/custom-flows/error-handling
          // for more info on error handling
          console.error(JSON.stringify(err, null, 2))
        }
      }

      // Handle submission of verification form
      const onVerifyPress = async () => {
        if (!isLoaded) return

        try {
          // Use the code the user provided to attempt verification
          const signUpAttempt = await signUp.attemptEmailAddressVerification({
            code,
          })

          // If verification was completed, set the session to active
          // and redirect the user
          if (signUpAttempt.status === 'complete') {
            await setActive({
              session: signUpAttempt.createdSessionId,
              navigate: async ({ session }) => {
                if (session?.currentTask) {
                  // Check for tasks and navigate to custom UI to help users resolve them
                  // See https://clerk.com/docs/guides/development/custom-flows/overview#session-tasks
                  console.log(session?.currentTask)
                  return
                }

                router.replace('/')
              },
            })
          } else {
            // If the status is not complete, check why. User may need to
            // complete further steps.
            console.error(JSON.stringify(signUpAttempt, null, 2))
          }
        } catch (err) {
          // See https://clerk.com/docs/guides/development/custom-flows/error-handling
          // for more info on error handling
          console.error(JSON.stringify(err, null, 2))
        }
      }

      if (pendingVerification) {
        return (
          <>
            <Text>Verify your email</Text>
            <TextInput
              value={code}
              placeholder="Enter your verification code"
              placeholderTextColor="#666666"
              onChangeText={(code) => setCode(code)}
            />
            <Button title="Verify" onPress={onVerifyPress} />
          </>
        )
      }

      return (
        <View>
          <>
            <Text>Sign up</Text>
            <TextInput
              autoCapitalize="none"
              value={emailAddress}
              placeholder="Enter email"
              placeholderTextColor="#666666"
              onChangeText={(email) => setEmailAddress(email)}
            />
            <TextInput
              value={password}
              placeholder="Enter password"
              placeholderTextColor="#666666"
              secureTextEntry={true}
              onChangeText={(password) => setPassword(password)}
            />
            <View style={{ flexDirection: 'row', alignItems: 'center', marginVertical: 8 }}>
              <Checkbox
                value={legalAccepted}
                onValueChange={setLegalAccepted}
                style={{ marginRight: 8 }}
              />
              <Pressable onPress={() => setLegalAccepted(!legalAccepted)}>
                <Text>
                  I accept the <Link href="/terms">Terms of Service</Link> and{' '}
                  <Link href="/privacy">Privacy Policy</Link>
                </Text>
              </Pressable>
            </View>
            <Button title="Continue" onPress={onSignUpPress} />
            <View style={{ flexDirection: 'row', gap: 4 }}>
              <Text>Have an account?</Text>
              <Link href="/sign-in">
                <Text>Sign in</Text>
              </Link>
            </View>
          </>
        </View>
      )
    }
    ```
  </Tab>
</Tabs>
