---
title: Get started with Organizations and Next.js
description: Create and manage organizations in your Next.js app in this guided tutorial.
sdk: nextjs
---

Organizations let you group users with roles and permissions, enabling you to build multi-tenant B2B apps like Slack (workspaces), Linear (teams), or Vercel (projects) where users can switch between different team contexts.

This get started tutorial will guide you through creating a new application with Clerk organizations.

<Steps>
  ## Create a new Next.js application

  Run the following command to [create a new Next.js application](https://nextjs.org/docs/getting-started/installation). It will create an app with the name `my-clerk-app`, but you can replace it with any name you want.

  ```npm
  npm create next-app@latest my-clerk-orgs-app -- --yes
  ```

  Navigate to your newly created application.

  ```
  cd my-clerk-orgs-app
  ```

  ### Install `@clerk/nextjs`

  Run the following command to install the Next.js SDK:

  ```npm
  npm install @clerk/nextjs
  ```

  ### Add `clerkMiddleware()` to your app

  `clerkMiddleware()` grants you access to user authentication state throughout your app.

  <Include src="_partials/nextjs/nextjs-15-callout" />

  1. Create a `proxy.ts` file.

     - If you're using the `/src` directory, create `proxy.ts` in the `/src` directory.
     - If you're not using the `/src` directory, create `proxy.ts` in the root directory.

  1. In your `proxy.ts` file, export the `clerkMiddleware()` helper:

     ```tsx {{ filename: 'proxy.ts' }}
     import { clerkMiddleware } from '@clerk/nextjs/server'

     export default clerkMiddleware()

     export const config = {
       matcher: [
         // Skip Next.js internals and all static files, unless found in search params
         '/((?!_next|[^?]*\\.(?:html?|css|js(?!on)|jpe?g|webp|png|gif|svg|ttf|woff2?|ico|csv|docx?|xlsx?|zip|webmanifest)).*)',
         // Always run for API routes
         '/(api|trpc)(.*)',
       ],
     }
     ```

  1. By default, `clerkMiddleware()` will not protect any routes. All routes are public and you must opt-in to protection for routes. See the [`clerkMiddleware()` reference](/docs/reference/nextjs/clerk-middleware) to learn how to require authentication for specific routes.

  ## Add `<ClerkProvider/>`, `<OrganizationSwitcher/>`

  Copy and paste the following file into your `layout.tsx` file. This creates a header with Clerk's [prebuilt components](/docs/reference/components/overview) to allow users to authenticate and manage organizations.
    1. The [`<ClerkProvider>`](/docs/reference/components/clerk-provider) component provides Clerk's authentication context to your app.
    1. The [`<OrganizationSwitcher />`](/docs/reference/components/organization/organization-switcher) component (line 38) is the easiest way to let users create, switch between, and manage organizations. In addition, you can view organization members and invitations.

  ```tsx {{ filename: 'app/layout.tsx', mark: [[2, 10], 35, [38, 51], 55], fold: [[13, 28]] }}
  import type { Metadata } from 'next'
  import {
    ClerkProvider,
    OrganizationSwitcher,
    SignInButton,
    SignUpButton,
    SignedIn,
    SignedOut,
    UserButton,
  } from '@clerk/nextjs'
  import { Geist, Geist_Mono } from 'next/font/google'
  import './globals.css'

  const geistSans = Geist({
    variable: '--font-geist-sans',
    subsets: ['latin'],
  })

  const geistMono = Geist_Mono({
    variable: '--font-geist-mono',
    subsets: ['latin'],
  })

  export const metadata: Metadata = {
    title: 'Clerk Next.js Quickstart',
    description: 'Generated by create next app',
  }

  export default function RootLayout({
    children,
  }: Readonly<{
    children: React.ReactNode
  }>) {
    return (
      <ClerkProvider>
        <html lang="en">
          <body className={`${geistSans.variable} ${geistMono.variable} antialiased`}>
            <header className="flex justify-end items-center p-4 gap-4 h-16">
              <OrganizationSwitcher />
              <SignedOut>
                <SignInButton />
                <SignUpButton>
                  <button className="bg-[#6c47ff] text-white rounded-full font-medium text-sm sm:text-base h-10 sm:h-12 px-4 sm:px-5 cursor-pointer">
                    Sign Up
                  </button>
                </SignUpButton>
              </SignedOut>
              <SignedIn>
                <UserButton />
              </SignedIn>
            </header>
            {children}
          </body>
        </html>
      </ClerkProvider>
    )
  }
  ```

  ## Access organization data

  Use Clerk's hooks to access the current organization and role in your components:

  ```tsx {{ filename: 'app/page.tsx', mark: [3, [6, 9], 14, 17] }}
  'use client'

  import { useOrganization, useOrganizationList } from '@clerk/nextjs'

  export default function Home() {
    const { organization } = useOrganization()
    const { userMemberships } = useOrganizationList({
      userMemberships: true,
    })

    return (
      <div className="p-8">
        <h1 className="text-2xl font-bold mb-4">
          Welcome to the <strong>{organization?.name}</strong> organization
        </h1>
        <p className="mb-6">
          Your role in this organization:{' '}
          <strong>
            {
              userMemberships?.data?.find(
                (membership) => membership.organization.id === organization?.id,
              )?.role
            }
          </strong>
        </p>
      </div>
    )
  }
  ```

  ## Visit your app

  Run your project with the following command:

  ```npm
  npm run dev
  ```

  Visit your app locally at [`localhost:3000`](http://localhost:3000).

  ### Enable organization

  Since this app uses Organization hooks and components, you must enable the Organizations feature.

  Click on "Enable Organizations" when prompted.

  ### Create first user and organization

  You must sign in to use organizations. When prompted, click on "Sign in to continue". Then, authenticate to create your first user.

  Since you selected disabled personal accounts when you enabled organizations, every user must be in at least one organization. Clerk will prompt you to create an organization for your user.

  ## Create and switch organization

  Use `<OrganizationSwitcher />` to create, switch between, and manage organizations.

  1. Click on the `<OrganizationSwitcher />` component, then **Create an organization**.

  1. Enter `Acme Corp` as the organization name.

  1. Invite users to your organization and select their role.

  ## Protect routes by organization and roles

  You can protect routes based on organization membership, roles, and permissions. The `/protected` page checks if you are an admin in the `Acme Corp` organization:

  ```tsx {{ filename: 'app/protected/page.tsx', mark: [1, 6, 17, 18, 21, 22] }}
  import { auth, clerkClient } from '@clerk/nextjs/server'

  export default async function Page() {
    // Protect the route by checking for a specific role
    // This will throw a 404 if the user is not authenticated or doesn't have the role
    const { orgId } = await auth.protect({ role: 'org:admin' })

    if (!orgId) {
      return (
        <p className="text-red-600">
          You must be signed in as an <strong>admin</strong> to access this page.
        </p>
      )
    }

    // Fetch the organization to check its name
    const client = await clerkClient()
    const organization = await client.organizations.getOrganization({ organizationId: orgId })

    // Check if organization name matches (e.g., "Acme Corp")
    const requiredOrgName = 'Acme Corp'
    if (organization.name !== requiredOrgName) {
      return (
        <p className="text-red-600">
          You are currently not signed in as an <strong>admin</strong> in the{' '}
          <strong>{requiredOrgName}</strong> organization.
        </p>
      )
    }

    return (
      <p className="text-green-600">
        You are currently signed in as an <strong>admin</strong> in the{' '}
        <strong>{requiredOrgName}</strong> organization.
      </p>
    )
  }
  ```

  Navigate to [`localhost:3000/protected`](localhost:3000/protected). You should see a green message, confirming you are an admin in Acme Corp. Use the `<OrganizationSwitcher/>` to switch organizations or rename the organization to show the red message.

  Congrats! You can restrict access to data by adding logic to an organization's roles and permissions.

  Learn more about protecting routes and checking organization roles in the [authorization guide](/docs/guides/organizations/control-access/roles-and-permissions).

  ## It's time to build your B2B SaaS!

  You've added Clerk organizations to your Next.js app ðŸŽ‰. Ready to scale to enterprise customers?

  To make configuration changes to your Clerk development instance, claim the Clerk keys that were generated for you by selecting **Claim your application** in the bottom right of your app. This will associate the application with your Clerk account.

  - **Control access** with [custom roles and permissions](/docs/guides/organizations/control-access/roles-and-permissions) define granular permissions for different user types within organizations.

  - **Onboard entire companies** with [verified domains](/docs/guides/organizations/add-members/verified-domains) automatically invite users with approved email domains (e.g., `@company.com`) to join organizations without manual invitations.

  - **Enable enterprise SSO** with [SAML and OIDC](/docs/guides/organizations/add-members/sso) let customers authenticate through their identity provider (Okta, Entra ID, Google Workspace) with unlimited connections, no per-connection fees.
</Steps>

## Next steps

<Cards>
  - [Create and manage organizations](/docs/guides/organizations/create-and-manage)
  - Learn how to create organizations, manage members, and switch between organizations.

  ---

  - [Invite members to organizations](/docs/guides/organizations/add-members/invitations)
  - Learn how to invite team members to your organizations with role-based access.

  ---

  - [Roles and permissions](/docs/guides/organizations/control-access/roles-and-permissions)
  - Set up custom roles and permissions to control access within organizations.

  ---

  - [\`<OrganizationSwitcher /> component](/docs/reference/components/organization/organization-switcher)
  - Learn more about Clerk's prebuilt organization components.
</Cards>
