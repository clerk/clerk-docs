---
description: Learn how to set up a staging environment with Clerk authentication.
---

# Set up a staging environment with Clerk

Staging environments enable you to internally test and demo changes to your application or website before deploying them to production. Official support for staging is still on [Clerk's roadmap](https://feedback.clerk.com/roadmap/de417dd1-fa2e-4997-868f-4c9248027e7d), however you can use Clerk in your staging environments with the approaches described in this guide.

## Choose an approach

There are two recommended approaches to using Clerk in a staging environment at this time:

1. [Using a separate domain from your production app's domain](#use-a-staging-domain). **Recommended**. You should consider this approach if you don't want to or are not able to expose production Clerk data to a staging environment.
2. [Using a subdomain of your production app's domain](#use-a-subdomain). Consider choosing this approach if you can't currently integrate a new staging-specific domain into your workflow, and can safely expose production Clerk data to a staging environment.
    - This approach requires sharing credentials and data between your staging and production environments. See [the limitations section](#limitations-of-using-a-subdomain) for more information.

## Use a staging domain

When setting up staging with Clerk, it is recommended that you use a separate domain from your production domain. Doing so will enable you to create a new Clerk app for your staging environment, preventing you from using production environment data and API keys. **This staging Clerk app will be upgraded free of charge**.

### Benefits of using a staging domain

Using a staging-specific domain and Clerk application enables you to:

- Fetch and modify data from Clerk without affecting your production data
- Avoid using live customer data in your staging environment
- Prevent your production application's users from being able to sign in to your staging environment

#### Limitations of using a staging domain

When you use a separate Clerk application for your staging environment, changes to this application will not be automatically mirrored in your main application for your production environment. You must manually make these changes yourself.

### Set up a staging Clerk app

The following steps will help you set up a new Clerk application with a staging-specific domain:

1. **Acquire a separate domain** - This domain will be used for your staging environment. _This cannot be a subdomain_ of the domain used in your production environment. For example, if your production domain is `my-site.com`, you could use `my-site-staging.com`. If you don't want to use a new domain, see [the instructions for using a subdomain](#use-a-subdomain).
2. **Create a new Clerk app** - Your staging environment will connect to this app instead of your main Clerk application. See [the Clerk quickstart guide](/docs/quickstarts/setup-clerk#create-a-clerk-application) to learn how to create a Clerk app.
3. **Deploy and configure your staging app's production instance** - Using production API keys will make your staging app more secure. Follow the [Deploy to production](/docs/deployments/overview#deploying-to-production) guide to do so.
4. **Contact Clerk support to upgrade your staging app for free** - If you're on a Pro, Enterprise, or Startup plan, Clerk will fully upgrade your staging app for free.

## Use a subdomain

You can use a subdomain of your production domain to set up a staging environment. Doing so will enable you to connect to the Clerk application you use in your production environment from your staging environment by sharing API keys between them.

### Benefits of using a subdomain

Using a subdomain and connecting to the Clerk app associated with your production environment enables you to:

- Mirror your production environment perfectly in staging, because you're sharing the same Clerk configuration and data across both
- Avoid acquiring a new domain and integrating it into your workflow

#### Limitations of using a subdomain

The limitations of using a subdomain to set up a staging environment with Clerk include:

- Using your production API keys with your staging environment means you'll be sharing credentials across both.
- Changes to data from your staging environment will be reflected in production.
- You will have live customer data in your staging environment.
- When you enable Clerk features to test in staging, they will be enabled in your Production environment as well.
- Adds another set of production key pairs to manage in you environment variables.

### Set up staging with a subdomain

The following steps will help you connect your staging environment to your Clerk app if it uses a subdomain of your production domain:

1. **Add your subdomain to your hosting provider** – Ensure that your subdomain is associated with your staging branch so that it will point to new staging deployments. This process will vary based on your provider. The following are some guides from popular hosting providers:
    - [Vercel](https://vercel.com/guides/set-up-a-staging-environment-on-vercel)
    - [Netlify](https://docs.netlify.com/domains-https/netlify-dns/delegate-a-subdomain-to-netlify-dns/)
    - [Cloudflare](https://developers.cloudflare.com/dns/manage-dns-records/how-to/create-subdomain/)
2. **Add your CNAME record to your domain provider** – Depending on the provider, the verification process for this can take hours or days.
3. **Add your production instance API keys to your staging deployment** – Using environment variables, add the API keys from your Clerk app's production instance to your staging deployment. Visit the [**API Keys**](https://dashboard.clerk.com/last-active?path=api-keys) section of your Clerk dashboard to find them. The following are environment variable guides from some popular providers:
    - [Vercel](https://vercel.com/docs/projects/environment-variables#declare-an-environment-variable)
    - [Netlify](https://docs.netlify.com/environment-variables/get-started/#create-environment-variables)
    - [Cloudflare](https://developers.cloudflare.com/workers/configuration/environment-variables/#add-environment-variables-via-the-dashboar)

## Staging with development instances

It is not recommended to connect your staging environment to a development instance. If you want to use a development instance with your staging environment, see the [Instances / Environments](/docs/deployments/environments#development-instance) documentation to learn about possible limitations.

## Preview deployments

While staging environments are typically long-lived, preview environments are typically generated on-demand for specific pull requests. See [the guide on using Clerk in a preview environment](/docs/deployments/set-up-preview-environment) to learn about your options.
