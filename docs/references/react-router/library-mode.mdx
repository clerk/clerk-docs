---
title: React Router as a Library
description: React Router can still be used as a simple, declarative routing library and Clerk supports the Single Page Apps mode.
---

<TutorialHero
  framework="react-router"
  beforeYouStart={[
    {
      title: "Set up a Clerk application",
      link: "/docs/quickstarts/setup-clerk",
      icon: "clerk",
    },
    {
      title: "Install React Router as a library",
      link: "https://reactrouter.com/start/library/installation",
      icon: "react-router",
    }
  ]}
>
  - Install `@clerk/react-router`
  - Set your environment variables
  - Add `<ClerkProvider>`
  - Protecting your pages
</TutorialHero>

> [!NOTE]
> This guide explains how to use Clerk with [React Router as a library](https://reactrouter.com/start/library/installation).
> If you are using React Router as a framework, follow the [React Router quickstart](/docs/quickstarts/react-router).

<Steps>
  ### Install `@clerk/react-router`

  Once you have a Vite + React Router application ready, you need to install Clerk's React Router SDK. This gives you access to our prebuilt components and hooks for React Router applications.

  <CodeBlockTabs options={["npm", "yarn", "pnpm"]}>
    ```bash {{ filename: 'terminal' }}
    npm install @clerk/react-router
    ```

    ```bash {{ filename: 'terminal' }}
    yarn add @clerk/react-router
    ```

    ```bash {{ filename: 'terminal' }}
    pnpm add @clerk/react-router
    ```
  </CodeBlockTabs>

  ### Set your environment variables

  1. If you don't have an `.env` file in the root directory of your React project, create one now.
  1. Find your Clerk Publishable Key. If you're signed into Clerk, the `.env` snippet below will contain your key. Otherwise:
     - Navigate to the [Clerk Dashboard](https://dashboard.clerk.com/last-active?path=api-keys) and select your application.
     - In the navigation sidebar, select **API Keys**.
     - You can copy your key from the **Quick Copy** section.
  1. Add your key to your `.env` file.

  > [!WARNING]
  > You will not need the Clerk Secret Key in React Router's library mode, as it should never be used on the client-side.

  The final result should look as follows:

  ```env {{ filename: '.env' }}
  VITE_CLERK_PUBLISHABLE_KEY={{pub_key}}
  ```

  ### Add `<ClerkProvider>`

  The [`<ClerkProvider>`](/docs/components/clerk-provider) component provides session and user context to Clerk's hooks and components. It's recommended to wrap your entire app at the entry point with `<ClerkProvider>` to make authentication globally accessible. See the [reference docs](/docs/components/clerk-provider) for other configuration options. Pass your publishable key as a prop to the component.

  ```tsx {{ filename: 'src/main.tsx', mark: [4, 8, [13, 17]] }}
  import { StrictMode } from 'react'
  import { createRoot } from 'react-dom/client'
  import { BrowserRouter, Routes, Route } from 'react-router'
  import { ClerkProvider } from '@clerk/react-router'
  import './index.css'
  import App from './App.tsx'

  const PUBLISHABLE_KEY = import.meta.env.VITE_CLERK_PUBLISHABLE_KEY

  createRoot(document.getElementById('root')!).render(
    <StrictMode>
      <BrowserRouter>
        <ClerkProvider publishableKey={PUBLISHABLE_KEY}>
          <Routes>
            <Route path="/" element={<App />} />
          </Routes>
        </ClerkProvider>
      </BrowserRouter>
    </StrictMode>,
  )
  ```

  ### Update your paths through provider options

  Next, add `signInFallbackRedirectUrl` and `signUpFallbackRedirectUrl` to your `<ClerkProvider>`. It controls the behavior of the components when you sign in our sign up and when you click on the respective links at the bottom of each component.

  ```tsx {{ filename: 'src/main.tsx', mark: [6, 7] }}
  createRoot(document.getElementById('root')!).render(
    <StrictMode>
      <BrowserRouter>
        <ClerkProvider
          publishableKey={PUBLISHABLE_KEY}
          signInFallbackRedirectUrl="/"
          signUpFallbackRedirectUrl="/"
        >
          <Routes>
            <Route path="/" element={<App />} />
          </Routes>
        </ClerkProvider>
      </BrowserRouter>
    </StrictMode>,
  )
  ```

  ### Protecting your pages

  Clerk offers [Control Components](/docs/components/overview) that allow you to protect your pages. These components are used to control the visibility of your pages based on the user's authentication state.

  ```tsx {{ filename: 'src/App.tsx' }}
  import {
    SignInButton,
    SignOutButton,
    SignUpButton,
    SignedIn,
    SignedOut,
    UserButton,
  } from '@clerk/react-router'
  import './App.css'

  function App() {
    return (
      <div>
        <h1>Index Route</h1>
        <SignedIn>
          <p>You are signed in!</p>
          <div>
            <p>View your profile here</p>
            <UserButton />
          </div>
          <div>
            <SignOutButton />
          </div>
        </SignedIn>
        <SignedOut>
          <p>You are signed out</p>
          <div>
            <SignInButton />
          </div>
          <div>
            <SignUpButton />
          </div>
        </SignedOut>
      </div>
    )
  }

  export default App
  ```
</Steps>

### Next steps

Now that you have an application integrated with Clerk, you will want to read the following documentation:

<Cards>
  - [Customization & Localization](/docs/customization/overview)
  - Learn how to customize and localize the Clerk components.

  ---

  - [Authentication Components](/docs/components/authentication/sign-in)
  - Learn more about all our authentication components.
</Cards>
