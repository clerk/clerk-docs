---
title: '`rootAuthLoader()`'
description: The `rootAuthLoader` function is a helper function that provides the authentication state to your Remix application.
---

The `rootAuthLoader()` function is a helper function that provides the authentication state to your Remix application.

## Usage

You can use the `rootAuthLoader()` in two different ways:

- [Without a callback](#without-a-callback), which will just return the auth state
- [With a callback function](#with-a-callback) to handle custom data loading while having access to auth state

You can also [pass configuration options](#pass-configuration-options) to `rootAuthLoader()` no matter which method you use.

### Without a callback

To configure Clerk in your Remix app, you must export the `rootAuthLoader()` function as the root `loader()` function.

```tsx {{ filename: 'app/root.tsx', mark: [1, [4, 5], [15, 16]] }}
// Your other imports

// Import `rootAuthLoader`
import { rootAuthLoader } from '@clerk/remix/ssr.server'

// Export `rootAuthLoader()` as the root route `loader`
export const loader: LoaderFunction = (args) => rootAuthLoader(args)

// The rest of your code
```

### With a callback

If you need to load in additional data, you can pass a callback to `rootAuthLoader()` that handles the route data loading with auth state.

```tsx {{ filename: 'app/root.tsx' }}
// Your imports

export const loader: LoaderFunction = (args) => {
  return rootAuthLoader(args, ({ request }) => {
    const { sessionId, userId, getToken } = request.auth
    // Add logic to fetch data
    return { yourData: 'here' }
  })
}

// The rest of your code
```

### Pass configuration options

To pass configuration [options](#root-auth-loader-options) to `rootAuthLoader()`, you can pass an optional argument to the `rootAuthLoader()` function.

```tsx {{ filename: 'app/root.tsx' }}
// Your imports

export const loader: LoaderFunction = (args) => {
  return rootAuthLoader(
    args,
    ({ request }) => {
      const { sessionId, userId, getToken } = request.auth
      // Add logic to fetch data
      return { yourData: 'here' }
    },
    {
      signInForceRedirectUrl: '/dashboard',
    },
  )
}

// The rest of your code
```

## `rootAuthLoader()` options

The `rootAuthLoader()` function accepts an optional object. The following options are available:

<Properties>
  - `audience?`
  - `string | string[]`

  A string or list of [audiences](https://datatracker.ietf.org/doc/html/rfc7519#section-4.1.3). If passed, it is checked against the `aud` claim in the token.

  ---

  - `authorizedParties?`
  - `string[]`

  An allowlist of origins to verify against, to protect your application from the subdomain cookie leaking attack.<br />For example: `['http://localhost:3000', 'https://example.com']`

  ---

  - `domain?`
  - `string`

  The domain used for satellites to inform Clerk where this application is deployed.

  ---

  - `isSatellite?`
  - `boolean`

  When using Clerk's satellite feature, this should be set to `true` for secondary domains.

  ---

  - `jwtKey`
  - `string`

  Used to verify the session token in a networkless manner. Supply the PEM public key from the **[**API keys**](https://dashboard.clerk.com/last-active?path=api-keys) page -> Show JWT public key -> PEM Public Key** section in the Clerk Dashboard. **It's recommended to use [the environment variable](/docs/deployments/clerk-environment-variables) instead.** For more information, refer to [Manual JWT verification](/docs/backend-requests/handling/manual-jwt).

  ---

  - `proxyUrl?`
  - `string`

  Specify the URL of the proxy, if using a proxy.

  ---

  - `publishableKey`
  - `string`

  The Clerk Publishable Key for your instance. This can be found in the **[**API keys**](https://dashboard.clerk.com/last-active?path=api-keys) page -> Show Publishable Key** section in the Clerk Dashboard.

  ---

  - `secretKey?`
  - `string`

  The Clerk Secret Key for your instance. This can be found on the [**API keys**](https://dashboard.clerk.com/last-active?path=api-keys) page in the Clerk Dashboard.

  ---

  - `signInUrl`
  - `string`

  This URL will be used for any redirects that might happen and needs to point to your primary application on the client-side. This option is optional for production instances. **It is required to be set for a satellite application in a development instance.** It's recommended to use [the environment variable](/docs/deployments/clerk-environment-variables#sign-in-and-sign-up-redirects) instead.

  ---

  - `signUpUrl`
  - `string`

  This URL will be used for any redirects that might happen and needs to point to your primary application on the client-side. This option is optional for production instances but **must be set for a satellite application in a development instance.** It's recommended to use [the environment variable](/docs/deployments/clerk-environment-variables#sign-in-and-sign-up-redirects) instead.

  ---

  - `signInFallbackRedirectUrl?`
  - `string`

  The fallback URL to redirect to after the user signs in, if there's no `redirect_url` in the path already. Defaults to `/`. It's recommended to use [the environment variable](/docs/deployments/clerk-environment-variables#sign-in-and-sign-up-redirects) instead.

  ---

  - `signUpFallbackRedirectUrl?`
  - `string`

  The fallback URL to redirect to after the user signs up, if there's no `redirect_url` in the path already. Defaults to `/`. It's recommended to use [the environment variable](/docs/deployments/clerk-environment-variables#sign-in-and-sign-up-redirects) instead.

  ---

  - `signInForceRedirectUrl?`
  - `string`

  If provided, this URL will always be redirected to after the user signs in. It's recommended to use [the environment variable](/docs/deployments/clerk-environment-variables#sign-in-and-sign-up-redirects) instead.

  ---

  - `signUpForceRedirectUrl?`
  - `string`

  If provided, this URL will always be redirected to after the user signs up. It's recommended to use [the environment variable](/docs/deployments/clerk-environment-variables#sign-in-and-sign-up-redirects) instead.
</Properties>
