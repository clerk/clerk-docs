---
title: Allow users to authenticate with passkeys
description: Learn how to use passkeys in your Expo app with Clerk.
---

This guide shows you how to authenticate with passkeys in your Expo application.

> [!WARNING]
> This API is available only for [@clerk/clerk-expo v2](/docs/upgrade-guides/expo-v2/upgrade) >=2.2.0.

<Steps>
  ### Enable passkeys

  To use passkeys, you must first enable the strategy. If you haven't already, visit the [Enable passkeys documentation section](https://clerk.com/docs/custom-flows/passkeys#enable-passkeys).

  ### Configure passkeys for iOS and Android

  Use the following tabs to configure your passkeys for `iOS` or `Android`.

  <Tabs items={['iOS', 'Android']}>
    <Tab>
      <Steps>
        > [!WARNING]
        > iOS supports passkeys from version iOS 16+

        ### Get your App ID Prefix and Bundle ID from Apple

        To get your **App ID Prefix** and **Bundle ID**, follow these steps:

        1. Navigate to the [Apple Developer dashboard](https://developer.apple.com/account).
        1. Under **Certificates, IDs and Profiles**, select [**Identifiers**](https://developer.apple.com/account/resources/identifiers/list).
        1. In the top-right, select the dropdown and select **App IDs**.
        1. Select the **App ID** you want to configure passkeys for. You'll be redirect to the **Edit your App ID Configuration** page.
        1. At the top of the page, you'll see your **App ID Prefix** and **Bundle ID**. Save these values somewhere secure.

        ### Set up your associated domain file in the Clerk Dashboard

        1. In the Clerk Dashboard, navigate to the [**Native Applications**](https://dashboard.clerk.com/last-active?path=native-applications) page.
        1. Paste your **App ID Prefix** and **Bundle ID** into the respective fields. You'll be redirected to the **iOS association file**.
        1. Look for the text that says "The association file has been hosted at" followed by a URL. This URL is your Clerk **Frontend API URL** - copy it as you'll need it in the next step.

        ### Update `app.json` in your Expo app

        1. In your app's `app.json` file, under the `ios` object, add the `associatedDomains` property as shown in the following example. Replace `<YOUR_FRONTEND_API>` with the value that you copied in the previous step.

        ```json {{ filename: 'app.json', mark: [[14, 20]] }}
        {
          "expo": {
            //...existing properties
            "plugins": [
              [
                "expo-build-properties",
                {
                  "ios": {
                    "deploymentTarget": "16.0" //  iOS Support passkeys from version iOS 16+
                  }
                }
              ]
            ],
            "ios": {
              //...existing properties
              "associatedDomains": [
                "applinks:<YOUR_FRONTEND_API_URL>",
                "webcredentials:<YOUR_FRONTEND_API_URL>"
              ]
            }
          }
        }
        ```
      </Steps>
    </Tab>

    <Tab>
      <Steps>
        > [!WARNING]
        > Android supports passkeys from version 9+

        ### Set up your Android app links in the Clerk Dashboard

        1. In the Clerk Dashboard, navigate to the [**Native Applications**](https://dashboard.clerk.com/last-active?path=native-applications) page.
        1. Select the **Android** tab.
        1. Fill out the form with the following information:
           - The `namespace` (use the default value: `android_app`)
           - Your Android app's package name
           - The `SHA256 certificate fingerprints`. If you don't know where to find the `SHA256 certificate fingerprints`, see the [Expo docs](https://docs.expo.dev/linking/android-app-links/#create-assetlinksjson-file).
        1. After submitting the form, you'll be redirected to **Asset links**. You can verify that your `assetlinks.json` file is properly associated with your app by using [Google's **Statement List Generator and Tester**](https://developers.google.com/digital-asset-links/tools/generator).
        1. Look for the text that says "The assetlinks.json has been hosted at" followed by a URL. This URL is your Clerk **Frontend API URL** - copy it as you'll need it in the next step.

        ### Update `app.json` in your Expo application

        1. In your app's `app.json` file, under `android`, add the `intentFilters` property as shown in the following example. Replace `<YOUR_FRONTEND_API>` with the value that you copied in the previous step.

        ```json {{ filename: 'app.json', mark: [[5, 14]] }}
        {
          "expo": {
            "android": {
              //...existing properties
              "intentFilters": [
                {
                  "action": "VIEW",
                  "autoVerify": true,
                  "data": [
                    {
                      "scheme": "https",
                      "host": "<YOUR_FRONTEND_API>"
                    }
                  ],
                  "category": ["BROWSABLE", "DEFAULT"]
                }
              ]
            }
          }
        }
        ```
      </Steps>
    </Tab>
  </Tabs>

  ### Prebuild Expo project

  Run the following command to prebuild your Expo project:

  ```bash {{ filename: 'terminal' }}
  npx expo prebuild
  ```

  ### Install `@clerk/expo-passkeys`

  Run the following command to install the `@clerk/expo-passkeys` package:

  <CodeBlockTabs options={["npm", "yarn", "pnpm"]}>
    ```bash {{ filename: 'terminal' }}
    npm install @clerk/expo-passkeys
    ```

    ```bash {{ filename: 'terminal' }}
    yarn add @clerk/expo-passkeys
    ```

    ```bash {{ filename: 'terminal' }}
    pnpm add @clerk/expo-passkeys
    ```
  </CodeBlockTabs>

  ### Update your `<ClerkProvider>`

  Pass the `passkeys` object to the `__experimental__passkeys` property of your `<ClerkProvider>` component, as shown in the following example:

  ```tsx {{ filename: 'app/_layout.tsx', mark: [3, 17] }}
  import { tokenCache } from '@/cache'
  import { ClerkProvider, ClerkLoaded } from '@clerk/clerk-expo'
  import { passkeys } from '@clerk/clerk-expo/passkeys'
  import { Slot } from 'expo-router'

  export default function RootLayout() {
    const publishableKey = process.env.EXPO_PUBLIC_CLERK_PUBLISHABLE_KEY!

    if (!publishableKey) {
      throw new Error('Add EXPO_PUBLIC_CLERK_PUBLISHABLE_KEY in your .env')
    }

    return (
      <ClerkProvider
        tokenCache={tokenCache}
        publishableKey={publishableKey}
        __experimental__passkeys={passkeys}
      >
        <ClerkLoaded>
          <Slot />
        </ClerkLoaded>
      </ClerkProvider>
    )
  }
  ```

  ### Create a passkey

  ```tsx
  const { user } = useUser()

  const handleCreatePasskey = async () => {
    if (!user) return
    try {
      return await user.createPasskey()
    } catch (e: any) {
      // handle error
    }
  }
  ```

  ### Authenticate a user with a passkey

  ```tsx
  const { signIn, setActive } = useSignIn()

  const handlePasskeySignIn = async () => {
    try {
      const signInResponse = await signIn.authenticateWithPasskey({ flow: 'discoverable' })
      await setActive({ session: signInResponse.createdSessionId })
    } catch (err: any) {
      // handle error
    }
  }
  ```
</Steps>

## More resources

Use the following guides to learn more about Clerk components, how to build custom flows for your native apps, and how to use Clerk's client-side helpers.

<Cards>
  - [Expo SDK](/docs/quickstarts/expo)
  - Use Clerk with Expo to authenticate users in your React Native application.

  ---

  - [Authentication flow with passkeys](https://clerk.com/docs/custom-flows/passkeys#enable-passkeys)
  - This guide will walk you through how to use Clerk's API to build custom flows for creating, signing users in with, and managing passkeys.
</Cards>
