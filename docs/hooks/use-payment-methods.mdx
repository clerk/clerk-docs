---
title: '`usePaymentMethods()`'
description: Access and manage payment methods in your React application with Clerk's usePaymentMethods() hook.
sdk: nextjs, react
---

<Include src="_partials/billing/api-experimental" />

The `usePaymentMethods()` hook provides access to the payment methods associated with a user or organization. It returns a paginated list of payment methods and includes methods for managing them.

## Parameters

`usePaymentMethods()` accepts a single object with the following properties:

<Properties>
  - `for?`
  - `'user' | 'organization'`

  Specifies whether to fetch payment methods for the current user or organization. Defaults to `'user'`.

  ---

  - `pageSize?`
  - `number`

  The number of payment methods to fetch per page. Defaults to `10`.

  ---

  - `initialPage?`
  - `number`

  The page number to start fetching from. Defaults to `1`.

  ---

  - `infinite?`
  - `boolean`

  When `true`, enables infinite pagination mode where new pages are appended to existing data. When `false`, each page replaces the previous data. Defaults to `false`.

  ---

  - `keepPreviousData?`
  - `boolean`

  When `true`, the previous data will be kept while loading the next page. This helps prevent layout shifts. Defaults to `false`.
</Properties>

## Returns

`usePaymentMethods()` returns an object with the following properties:

<Properties>
  - `data`
  - <code>[CommercePaymentSourceResource](/docs/references/javascript/types/commerce-payment-source-resource)\[] | null</code>

  An array of [payment methods](/docs/references/javascript/types/commerce-payment-source-resource), or `null` if the data hasn't been loaded yet.

  ---

  - `isLoading`
  - `boolean`

  A boolean that indicates whether the initial data is still being fetched.

  ---

  - `isFetching`
  - `boolean`

  A boolean that indicates whether any request is still in flight, including background updates.

  ---

  - `hasNextPage`
  - `boolean`

  A boolean that indicates whether there are more pages available to load.

  ---

  - `hasPreviousPage`
  - `boolean`

  A boolean that indicates whether there are previous pages available to load.

  ---

  - `fetchNext`
  - `() => Promise<void>`

  A function to fetch the next page of payment methods.

  ---

  - `fetchPrevious`
  - `() => Promise<void>`

  A function to fetch the previous page of payment methods.

  ---

  - `pageCount`
  - `number`

  The total number of available pages.

  ---

  - `count`
  - `number`

  The total number of payment methods available.
</Properties>

## Examples

### Basic usage

The following example demonstrates how to fetch and display a user's payment methods.

```tsx
import { usePaymentMethods } from '@clerk/nextjs/experimental'

function PaymentMethodsList() {
  const { data, isLoading } = usePaymentMethods({
    for: 'user',
    pageSize: 10,
  })

  if (isLoading) {
    return <div>Loading payment methods...</div>
  }

  if (!data || data.length === 0) {
    // Code for how to add a new payment method: https://clerk.com/docs/custom-flows/add-new-payment-method
    return <div>No payment methods found. Please add a payment method to your account.</div>
  }

  return (
    <ul>
      {data?.map((method) => (
        <li key={method.id}>
          {method.cardType} **** {method.last4}
          {method.isDefault ? ' (Default)' : null}
        </li>
      ))}
    </ul>
  )
}
```

### Infinite pagination

The following example demonstrates how to implement infinite scrolling with payment methods.

```tsx
import { usePaymentMethods } from '@clerk/nextjs/experimental'

function InfinitePaymentMethods() {
  const { data, isLoading, hasNextPage, fetchNext } = usePaymentMethods({
    for: 'user',
    infinite: true,
    pageSize: 20,
  })

  if (isLoading) {
    return <div>Loading...</div>
  }

  if (!data || data.length === 0) {
    // Code for how to add a new payment method: https://clerk.com/docs/custom-flows/add-new-payment-method
    return <div>No payment methods found. Please add a payment method to your account.</div>
  }

  return (
    <div>
      <ul>
        {data?.map((method) => (
          <li key={method.id}>
            {method.cardType} ending in {method.last4}
            {method.status === 'expired' ? ' (Expired)' : null}
            {method.status === 'disconnected' ? ' (Disconnected)' : null}
          </li>
        ))}
      </ul>

      {hasNextPage && <button onClick={() => fetchNext()}>Load more payment methods</button>}
    </div>
  )
}
```

### With checkout flow

The following example demonstrates how to use `usePaymentMethods()` in a checkout flow to select an existing payment method. For more information on how to build a checkout flow with an existing payment method, see [Build a custom checkout flow](/docs/guides/development/custom-flows/checkout-new-payment-method).

```tsx
import { usePaymentMethods, useCheckout } from '@clerk/nextjs/experimental'

function CheckoutPaymentSelection() {
  const { data, isLoading } = usePaymentMethods({ for: 'user' })
  const { checkout } = useCheckout()
  const { confirm, finalize } = checkout

  const handlePaymentSubmit = async (paymentMethodId: string) => {
    try {
      // Confirm checkout with selected payment method
      await confirm({ paymentSourceId: paymentMethodId })
      // Complete checkout and redirect
      finalize({ redirectUrl: '/dashboard' })
    } catch (error) {
      console.error('Payment failed:', error)
    }
  }

  if (isLoading) {
    return <div>Loading payment methods...</div>
  }

  if (!data || data.length === 0) {
    // Code for how to add a new payment method: https://clerk.com/docs/custom-flows/checkout-new-payment-method
    return <div>No payment methods found. Please add a payment method to your account.</div>
  }

  return (
    <div>
      <h3>Select a payment method</h3>
      {data?.map((method) => (
        <button key={method.id} onClick={() => handlePaymentSubmit(method.id)}>
          Pay with {method.cardType} ending in {method.last4}
        </button>
      ))}
    </div>
  )
}
```

## Related guides

<Cards>
  - [Add a new payment method during checkout](/docs/guides/development/custom-flows/checkout-new-payment-method)
  - Build a custom checkout flow that allows users to add a new payment method during checkout

  ---

  - [Add a new payment method outside of a checkout flow](/docs/guides/development/custom-flows/add-new-payment-method)
  - Build a custom user interface that allows users to add a new payment method to their account
</Cards>
