The following example shows how to use [TanStack Query](https://tanstack.com/query/v4/docs/react/overview) to create an authenticated query.

When using TanStack Query (formerly React Query), you'll need a query function that properly handles errors. The native [Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch) doesn't throw errors for non-200 responses, so you'll need to add explicit error handling.

> [!NOTE]
> Your application must be wrapped in a `<QueryClientProvider />` component with a configured `QueryClient` instance. See the [TanStack Query docs](https://tanstack.com/query/v4/docs/react/quick-start) for setup instructions.
