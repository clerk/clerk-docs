---
title: Add a custom OpenID Connect (OIDC) Provider as an enterprise connection
description: Learn how to integrate a custom OIDC provider with Clerk for Enterprise SSO.
---

<TutorialHero
  beforeYouStart={[
    {
      title: "Add the Enhanced Authentication add-on to your Pro plan",
      link: "/pricing",
      icon: "plus-circle",
    },
    {
      title: "Enable email address as an identifier for your app",
      link: "/docs/authentication/configuration/sign-up-sign-in-options#identifiers",
      icon: "key",
    },
  ]}
>
  - Use a custom OIDC provider to authenticate users with Enterprise SSO
</TutorialHero>

This guide explains how to use a custom [OpenID Connect (OIDC)](https://openid.net/developers/how-connect-works) provider to authenticate users via Enterprise SSO.

To make the setup process easier, it's recommended to keep two browser tabs open: one for the [Clerk Dashboard](https://dashboard.clerk.com/last-active?path=user-authentication/sso-connections) and one for your Identity Provider (IdP).

<Steps>
  ### Set up an enterprise connection in Clerk

  1. In the Clerk Dashboard, navigate to the [**SSO Connections**](https://dashboard.clerk.com/last-active?path=user-authentication/sso-connections) page.
  1. Select **Add connection** and select **For specific domains**.
  1. Under **Third party**, select **OIDC**.
  1. Add the **Name** of the connection.
  1. Add the **Key** of the provider. This is the provider's unique identifier (cannot be changed after creation).
  1. Add the **Specific Domain** that you want to allow this connection for. This is the domain of the users you want to allow to sign in to your app.
  1. Select **Add connection**. You will be redirected to the connection's configuration page.

  The next steps involve configuring both your IdP and Clerk. Keep both dashboards open as you'll need to reference them.

  ### Configure your IdP

  1. If necessary, create a new app in your IdP.
  1. In the connection's configuration page in the Clerk Dashboard, copy the **Authorized redirect URI**.
  1. Add the value to your IdP's whitelisted URLs.

  ### Set the Discovery Endpoint, Client ID, and Client Secret in Clerk

  1. In your IdP settings, copy your application's **Discovery Endpoint**, **Client ID**, and **Client Secret**.
  1. In the connection's configuration page in the Clerk Dashboard, paste these values in their respective fields.
  1. Add the minimum required scopes based on the IdP's documentation. Common OIDC scopes include `openid`, `email`, and `profile`.
  1. Select **Save**.

  ### Configure attribute mapping (optional)

  If your provider returns claims in a non-standard format, use the **Attribute Mapping** section on the connection's configuration page to adjust the mapping of Clerk's user properties to match the IdP's claim attributes. Important Clerk user properties include `email`, `firstName`, and `lastName`.

  > [!CAUTION]
  > OIDC Enterprise connections require the `email_verified` claim to verify email ownership. If the IdP doesn't return this claim, you can set its default value of `true`. However, ensure you fully trust the IdP to prevent exploits like [nOAuth](https://www.descope.com/blog/post/noauth).

  ### Enable the connection for Clerk

  To make the connection available for your users to authenticate with:

  1. In the Clerk Dashboard, navigate to the [**SSO Connections**](https://dashboard.clerk.com/last-active?path=user-authentication/sso-connections) page.
  1. Select the OIDC connection.
  1. Toggle on **Enable connection**.
  1. Select **Save**.

  ### Test your connection

  The simplest way to test your enterprise connection is to visit your Clerk app's [Account Portal](/docs/customization/account-portal/overview), which is available for all Clerk apps out-of-the-box.

  1. In the Clerk Dashboard, navigate to the [**Account Portal**](https://dashboard.clerk.com/last-active?path=account-portal) page.
  1. Next to the **Sign-in** URL, select **Visit**. The URL should resemble:
     - **For development** – `https://your-domain.accounts.dev/sign-in`
     - **For production** – `https://accounts.your-domain.com/sign-in`
  1. Sign in with your IdP account.
</Steps>
