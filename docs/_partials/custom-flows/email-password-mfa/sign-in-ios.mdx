```swift {{ filename: 'MFASignInView.swift', collapsible: true }}
import SwiftUI
import Clerk

struct MFASignInView: View {
@State private var email = ""
@State private var password = ""
@State private var code = ""
@State private var displayTOTP = false

var body: some View {
    if displayTOTP {
    TextField("Code", text: $code)
    Button("Verify") {
        Task { await verify(code: code) }
    }
    } else {
    TextField("Email", text: $email)
    SecureField("Password", text: $password)
    Button("Next") {
        Task { await submit(email: email, password: password) }
    }
    }
}
}

extension MFASignInView {

func submit(email: String, password: String) async {
    do {
    // Start the sign-in process.
    let signIn = try await SignIn.create(strategy: .identifier(email, password: password))

    switch signIn.status {
    case .needsSecondFactor:
        // Handle user submitting email and password and swapping to TOTP form.
        displayTOTP = true
    default:
        // If the status is not needsSecondFactor, check why. User may need to
        // complete different steps.
        dump(signIn.status)
    }
    } catch {
    // See https://clerk.com/docs/guides/development/custom-flows/error-handling
    // for more info on error handling
    dump(error)
    }
}

func verify(code: String) async {
    do {
    // Access the in progress sign in stored on the client object.
    guard let inProgressSignIn = Clerk.shared.client?.signIn else { return }

    // Attempt the TOTP or backup code verification.
    let signIn = try await inProgressSignIn.attemptSecondFactor(strategy: .totp(code: code))

    switch signIn.status {
    case .complete:
        // If sign-in process is complete, navigate the user as needed.
        dump(Clerk.shared.session)
    default:
        // If the status is not complete, check why. User may need to
        // complete further steps.
        dump(signIn.status)
    }
    } catch {
    // See https://clerk.com/docs/guides/development/custom-flows/error-handling
    // for more info on error handling
    dump(error)
    }
}
}
```
