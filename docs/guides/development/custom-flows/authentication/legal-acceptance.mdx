---
title: Build a custom flow for handling legal acceptance
description: Learn how to use the Clerk API to build a custom user interface for handling legal acceptance.
---

When the legal acceptance feature is enabled, users are required to agree to your Terms of Service and Privacy Policy before they can sign up to your application.

If you're using the `<SignUp />` component, a checkbox appears and the legal acceptance flow is handled for you. However, if you're building a custom user interface, you need to handle legal acceptance in your sign-up form.

This guide demonstrates how to use the Clerk API to build a custom user interface for handling legal acceptance.

## Before you start

By default, the legal acceptance feature is disabled. To enable it, navigate to the [**Legal**](https://dashboard.clerk.com/~/compliance/legal) page in the Clerk Dashboard.

## Add legal acceptance to your sign-up flow

To support legal acceptance, you need to add a checkbox to your sign-up form, capture the checkbox value, and pass it to the [`SignUp.create()`](/docs/reference/javascript/sign-up#create) method.

The following example adds the legal acceptance logic to the [Email and password custom flow](/docs/guides/development/custom-flows/authentication/email-password), but you can apply the same logic to any custom flow. This example is written for Next.js App Router but it can be adapted for any React-based framework, such as React Router or Tanstack React Start.

<If notSdk={["js-frontend", "expo", "ios", "android", "nuxt"]}>
  **This example is written for Next.js App Router but it can be adapted for any React-based framework, such as React Router or Tanstack Start.**

  ```tsx {{ filename: 'app/sign-up/[[...sign-up]]/page.tsx', mark: [12, 28, [129, 141]], collapsible: true }}
  'use client'

  import * as React from 'react'
  import { useSignUp } from '@clerk/nextjs'
  import { useRouter } from 'next/navigation'
  import Link from 'next/link'

  export default function Page() {
    const { isLoaded, signUp, setActive } = useSignUp()
    const [emailAddress, setEmailAddress] = React.useState('')
    const [password, setPassword] = React.useState('')
    const [legalAccepted, setLegalAccepted] = React.useState(false)
    const [verifying, setVerifying] = React.useState(false)
    const [code, setCode] = React.useState('')
    const router = useRouter()

    // Handle submission of the sign-up form
    const handleSubmit = async (e: React.FormEvent) => {
      e.preventDefault()

      if (!isLoaded) return <div>Loading...</div>

      // Start the sign-up process using the email and password provided
      try {
        await signUp.create({
          emailAddress,
          password,
          legalAccepted,
        })

        // Send the user an email with the verification code
        await signUp.prepareEmailAddressVerification({
          strategy: 'email_code',
        })

        // Set 'verifying' true to display second form
        // and capture the code
        setVerifying(true)
      } catch (err: any) {
        // See https://clerk.com/docs/guides/development/custom-flows/error-handling
        // for more info on error handling
        console.error(JSON.stringify(err, null, 2))
      }
    }

    // Handle the submission of the verification form
    const handleVerify = async (e: React.FormEvent) => {
      e.preventDefault()

      if (!isLoaded) return <div>Loading...</div>

      try {
        // Use the code the user provided to attempt verification
        const signUpAttempt = await signUp.attemptEmailAddressVerification({
          code,
        })

        // If verification was completed, set the session to active
        // and redirect the user
        if (signUpAttempt.status === 'complete') {
          await setActive({
            session: signUpAttempt.createdSessionId,
            navigate: async ({ session }) => {
              if (session?.currentTask) {
                // Check for session tasks and navigate to custom UI to help users resolve them
                // See https://clerk.com/docs/guides/development/custom-flows/authentication/session-tasks
                console.log(session?.currentTask)
                router.push('/sign-up/tasks')
                return
              }

              router.push('/')
            },
          })
        } else {
          // If the status is not complete, check why. User may need to
          // complete further steps.
          console.error('Sign-up attempt not complete:', signUpAttempt)
          console.error('Sign-up attempt status:', signUpAttempt.status)
        }
      } catch (err: any) {
        // See https://clerk.com/docs/guides/development/custom-flows/error-handling
        // for more info on error handling
        console.error(JSON.stringify(err, null, 2))
      }
    }

    // Display the verification form to capture the code
    if (verifying) {
      return (
        <>
          <h1>Verify your email</h1>
          <form onSubmit={handleVerify}>
            <label id="code">Enter your verification code</label>
            <input value={code} id="code" name="code" onChange={(e) => setCode(e.target.value)} />
            <button type="submit">Verify</button>
          </form>
        </>
      )
    }

    // Display the initial sign-up form to capture the email and password
    return (
      <>
        <h1>Sign up</h1>
        <form onSubmit={handleSubmit}>
          <div>
            <label htmlFor="email">Enter email address</label>
            <input
              id="email"
              type="email"
              name="email"
              value={emailAddress}
              onChange={(e) => setEmailAddress(e.target.value)}
            />
          </div>

          <div>
            <label htmlFor="password">Enter password</label>
            <input
              id="password"
              type="password"
              name="password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
            />
          </div>

          <div>
            <label htmlFor="legalAccepted">
              I accept the <Link href="/terms">Terms of Service</Link> and{' '}
              <Link href="/privacy">Privacy Policy</Link>
            </label>
            <input
              id="legalAccepted"
              type="checkbox"
              name="legalAccepted"
              checked={legalAccepted}
              onChange={(e) => setLegalAccepted(e.target.checked)}
            />
          </div>

          {/* Required for sign-up flows
          Clerk's bot sign-up protection is enabled by default */}
          <div id="clerk-captcha" />

          <div>
            <button type="submit">Continue</button>
          </div>
        </form>
      </>
    )
  }
  ```
</If>

<If sdk="expo">
  This example uses `expo-checkbox` to create the checkbox. Install it with the following command:

  ```npm
  npm install expo-checkbox
  ```

  Then, update your sign-up page to include the legal acceptance checkbox. The following example uses the [email and password sign-up example](/docs/guides/development/custom-flows/authentication/email-password).

  ```tsx {{ filename: 'app/(auth)/sign-up.tsx', collapsible: true }}
    import { ThemedText } from '@/components/themed-text'
    import { ThemedView } from '@/components/themed-view'
    import { useSignUp } from '@clerk/clerk-expo'
    import { Link, useRouter } from 'expo-router'
    import * as React from 'react'
    import { Pressable, StyleSheet, TextInput, View } from 'react-native'
  + import Checkbox from 'expo-checkbox'

    export default function Page() {
      const { isLoaded, signUp, setActive } = useSignUp()
      const router = useRouter()

      const [emailAddress, setEmailAddress] = React.useState('')
      const [password, setPassword] = React.useState('')
  +   const [legalAccepted, setLegalAccepted] = React.useState(false)
      const [pendingVerification, setPendingVerification] = React.useState(false)
      const [code, setCode] = React.useState('')

      // Handle submission of sign-up form
      const onSignUpPress = async () => {
        if (!isLoaded) return

        // Start sign-up process using email and password provided
        try {
          await signUp.create({
            emailAddress,
            password,
  +         legalAccepted,
          })

          // Send user an email with verification code
          await signUp.prepareEmailAddressVerification({ strategy: 'email_code' })

          // Set 'pendingVerification' to true to display second form
          // and capture code
          setPendingVerification(true)
        } catch (err) {
          // See https://clerk.com/docs/guides/development/custom-flows/error-handling
          // for more info on error handling
          console.error(JSON.stringify(err, null, 2))
        }
      }

      // Handle submission of verification form
      const onVerifyPress = async () => {
        if (!isLoaded) return

        try {
          // Use the code the user provided to attempt verification
          const signUpAttempt = await signUp.attemptEmailAddressVerification({
            code,
          })

          // If verification was completed, set the session to active
          // and redirect the user
          if (signUpAttempt.status === 'complete') {
            await setActive({
              session: signUpAttempt.createdSessionId,
              navigate: async ({ session }) => {
                if (session?.currentTask) {
                  // Handle pending session tasks
                  // See https://clerk.com/docs/guides/development/custom-flows/authentication/session-tasks
                  console.log(session?.currentTask)
                  return
                }

                router.replace('/')
              },
            })
          } else {
            // If the status is not complete, check why. User may need to
            // complete further steps.
            console.error(JSON.stringify(signUpAttempt, null, 2))
          }
        } catch (err) {
          // See https://clerk.com/docs/guides/development/custom-flows/error-handling
          // for more info on error handling
          console.error(JSON.stringify(err, null, 2))
        }
      }

      if (pendingVerification) {
        return (
          <ThemedView style={styles.container}>
            <ThemedText type="title" style={styles.title}>
              Verify your email
            </ThemedText>
            <ThemedText style={styles.description}>
              A verification code has been sent to your email.
            </ThemedText>
            <TextInput
              style={styles.input}
              value={code}
              placeholder="Enter your verification code"
              placeholderTextColor="#666666"
              onChangeText={(code) => setCode(code)}
              keyboardType="numeric"
            />
            <Pressable
              style={({ pressed }) => [styles.button, pressed && styles.buttonPressed]}
              onPress={onVerifyPress}
            >
              <ThemedText style={styles.buttonText}>Verify</ThemedText>
            </Pressable>
          </ThemedView>
        )
      }

      return (
        <ThemedView style={styles.container}>
          <ThemedText type="title" style={styles.title}>
            Sign up
          </ThemedText>
          <ThemedText style={styles.label}>Email address</ThemedText>
          <TextInput
            style={styles.input}
            autoCapitalize="none"
            value={emailAddress}
            placeholder="Enter email"
            placeholderTextColor="#666666"
            onChangeText={(email) => setEmailAddress(email)}
            keyboardType="email-address"
          />
          <ThemedText style={styles.label}>Password</ThemedText>
          <TextInput
            style={styles.input}
            value={password}
            placeholder="Enter password"
            placeholderTextColor="#666666"
            secureTextEntry={true}
            onChangeText={(password) => setPassword(password)}
          />
  +       <View style={styles.legalContainer}>
  +         <Checkbox value={legalAccepted} onValueChange={setLegalAccepted} style={styles.checkbox} />
  +         <Pressable onPress={() => setLegalAccepted(!legalAccepted)}>
  +           <ThemedText style={styles.legalText}>
  +             I accept the{' '}
  +             <Link href="/terms">
  +               <ThemedText type="link">Terms of Service</ThemedText>
  +             </Link>{' '}
  +             and{' '}
  +             <Link href="/privacy">
  +               <ThemedText type="link">Privacy Policy</ThemedText>
  +             </Link>
  +           </ThemedText>
  +         </Pressable>
  +       </View>
          <Pressable
            style={({ pressed }) => [
              styles.button,
              (!emailAddress || !password || !legalAccepted) && styles.buttonDisabled,
              pressed && styles.buttonPressed,
            ]}
            onPress={onSignUpPress}
            disabled={!emailAddress || !password || !legalAccepted}
          >
            <ThemedText style={styles.buttonText}>Continue</ThemedText>
          </Pressable>
          <View style={styles.linkContainer}>
            <ThemedText>Have an account? </ThemedText>
            <Link href="/sign-in">
              <ThemedText type="link">Sign in</ThemedText>
            </Link>
          </View>
        </ThemedView>
      )
    }

    const styles = StyleSheet.create({
      container: {
        flex: 1,
        padding: 20,
        gap: 12,
      },
      title: {
        marginBottom: 8,
      },
      description: {
        fontSize: 14,
        marginBottom: 16,
        opacity: 0.8,
      },
      label: {
        fontWeight: '600',
        fontSize: 14,
      },
      input: {
        borderWidth: 1,
        borderColor: '#ccc',
        borderRadius: 8,
        padding: 12,
        fontSize: 16,
        backgroundColor: '#fff',
      },
      legalContainer: {
        flexDirection: 'row',
        alignItems: 'center',
        marginVertical: 8,
      },
      checkbox: {
        marginRight: 8,
      },
      legalText: {
        flex: 1,
      },
      button: {
        backgroundColor: '#0a7ea4',
        paddingVertical: 12,
        paddingHorizontal: 24,
        borderRadius: 8,
        alignItems: 'center',
        marginTop: 8,
      },
      buttonPressed: {
        opacity: 0.7,
      },
      buttonDisabled: {
        opacity: 0.5,
      },
      buttonText: {
        color: '#fff',
        fontWeight: '600',
      },
      linkContainer: {
        flexDirection: 'row',
        gap: 4,
        marginTop: 12,
        alignItems: 'center',
      },
    })
  ```
</If>

<If sdk={["js-frontend", "ios", "android", "nuxt"]}>
  Examples for this SDK aren't available yet. For now, try switching to a supported SDK, such as Next.js, and converting the code to fit your SDK.
</If>
