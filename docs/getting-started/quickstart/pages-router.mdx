---
title: Next.js Quickstart (Pages Router)
description: Add authentication and user management to your Next.js app with Clerk.
sdk: nextjs
---

<TutorialHero
  exampleRepo={[
    {
      title: "Next.js Pages Router Quickstart Repo",
      link: "https://github.com/clerk/clerk-nextjs-pages-quickstart"
    }
  ]}
  beforeYouStart={[
    {
      title: "Set up a Clerk application",
      link: "/docs/getting-started/quickstart/setup-clerk",
      icon: "clerk",
    }
  ]}
/>

<Steps>
  ## Create a new Next.js app

  If you don't already have a Next.js app (Pages Router), run the following commands to [create a new one](https://nextjs.org/docs/pages/getting-started/installation).

  ```npm
  npm create next-app@latest clerk-nextjs-pages -- --no-app
  cd clerk-nextjs-pages
  npm install
  ```

  <Include src="_partials/nextjs/sdk-installation-step" />

  ## Set your Clerk API keys

  <Include src="_partials/quickstarts/set-clerk-api-keys" />

  ```env {{ filename: '.env' }}
  NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY={{pub_key}}
  CLERK_SECRET_KEY={{secret}}
  ```

  ## Add `clerkMiddleware()` to your app

  [`clerkMiddleware()`](/docs/reference/nextjs/clerk-middleware) grants you access to user authentication state throughout your app. It also allows you to protect specific routes from unauthenticated users. To add `clerkMiddleware()` to your app, follow these steps:

  <Include src="_partials/nextjs/nextjs-15-callout" />

  1. Create a `proxy.ts` file.
     - If you're using the `/src` directory, create `proxy.ts` in the `/src` directory.
     - If you're not using the `/src` directory, create `proxy.ts` in the root directory alongside `.env`.
  1. In your `proxy.ts` file, export the `clerkMiddleware()` helper:

     ```tsx {{ filename: 'proxy.ts' }}
     import { clerkMiddleware } from '@clerk/nextjs/server'

     export default clerkMiddleware()

     export const config = {
       matcher: [
         // Skip Next.js internals and all static files, unless found in search params
         '/((?!_next|[^?]*\\.(?:html?|css|js(?!on)|jpe?g|webp|png|gif|svg|ttf|woff2?|ico|csv|docx?|xlsx?|zip|webmanifest)).*)',
         // Always run for API routes
         '/(api|trpc)(.*)',
       ],
     }
     ```
  1. By default, `clerkMiddleware()` will not protect any routes. All routes are public and you must opt-in to protection for routes. See the [`clerkMiddleware()` reference](/docs/reference/nextjs/clerk-middleware) to learn how to require authentication for specific routes.

  ## Add `<ClerkProvider>` to your app

  <Include src="_partials/clerk-provider/explanation" />

  Add the `<ClerkProvider>` component to your app, as shown in the following example:

  ```tsx {{ filename: 'pages/_app.tsx', mark: [2, [7, 12], 14] }}
  import '@/styles/globals.css'
  import { ClerkProvider } from '@clerk/nextjs'
  import type { AppProps } from 'next/app'

  function MyApp({ Component, pageProps }: AppProps) {
    return (
      <ClerkProvider
        {...pageProps}
        appearance={{
          cssLayerName: 'clerk',
        }}
      >
        <Component {...pageProps} />
      </ClerkProvider>
    )
  }

  export default MyApp
  ```

  ## Update `globals.css`

  <Include src="_partials/nextjs/update-globals-css" />

  ## Create a header with Clerk components

  You can control which content signed-in and signed-out users can see with the [prebuilt control components](/docs/reference/components/overview#control-components). The following example creates a header using the following components:

  <Include src="_partials/quickstarts/create-header-components-step" />

  ```tsx {{ filename: 'pages/_app.tsx', mark: [[4, 8], [20, 34]] }}
  import '@/styles/globals.css'
  import { ClerkProvider, SignInButton, SignUpButton, Show, UserButton } from '@clerk/nextjs'
  import type { AppProps } from 'next/app'

  function MyApp({ Component, pageProps }: AppProps) {
    return (
      <ClerkProvider
        {...pageProps}
        appearance={{
          cssLayerName: 'clerk',
        }}
      >
        <header className="flex justify-end items-center p-4 gap-4 h-16">
          <Show when="signed-out">
            <SignInButton />
            <SignUpButton>
              <button className="bg-[#6c47ff] text-white rounded-full font-medium text-sm sm:text-base h-10 sm:h-12 px-4 sm:px-5 cursor-pointer">
                Sign Up
              </button>
            </SignUpButton>
          </Show>
          <Show when="signed-in">
            <UserButton />
          </Show>
        </header>
        <Component {...pageProps} />
      </ClerkProvider>
    )
  }

  export default MyApp
  ```

  <Include src="_partials/quickstarts/run-project-step" />

  <Include src="_partials/quickstarts/create-first-user-step" />
</Steps>

## Next steps

<Include src="_partials/nextjs/next-steps" />
