---
title: Build your own UI (custom flows)
description: Learn the process behind building custom sign-up and sign-in flows with Clerk.
---

A **custom flow** refers to a user interface built entirely from scratch using the Clerk API.

Custom flows are considered **advanced** and are generally not recommended for most use cases. They require more development effort and are not as easy to maintain as the prebuilt components. However, if [prebuilt components](/docs/reference/components/overview) don't meet your specific needs or if you require more control over the logic, you can rebuild the existing Clerk flows using the Clerk API.

**If you choose this approach, the Clerk support team will do their best to assist you, but they cannot guarantee a resolution due to the highly customized nature of custom flows.**

> [!TIP]
> The information in this guide will help you get a general understanding of custom flow concepts. To skip to code examples, choose the guide that best fits your needs from the navigation on the left.

## How authentication flows work in Clerk

Before building custom authentication flows, read the following sections to get a general understanding of how authentication flows work in Clerk.

### Sign-up flow

The [`SignUp`](/docs/reference/javascript/sign-up) object is the pivotal concept in the sign-up process. It is used to gather the user's information, verify their email address or phone number, add OAuth accounts, and finally, convert them into a [`User`](/docs/reference/javascript/user).

Every `SignUp` must meet specific requirements before being converted into a `User`. These requirements are defined by the instance settings you selected in the [Clerk Dashboard](https://dashboard.clerk.com/). For example, on the [**User & authentication**](https://dashboard.clerk.com/~/user-authentication/user-and-authentication) page, you can [configure email and password, email links, or SMS codes as authentication strategies](/docs/guides/configure/auth-strategies/sign-up-sign-in-options).

Once all requirements are met, the `SignUp` will turn into a new `User`, and an active session for that `User` will be created on the current [`Client`](/docs/reference/javascript/client).

Don't worry about collecting all the required fields at once and passing them to a single request. The API is designed to accommodate progressive multi-step sign-up forms.

The following steps outline the sign-up process:

1. Initiate the sign-up process by collecting the user's authentication information and passing the appropriate parameters to the [`create()`](/docs/reference/javascript/sign-in#create) method.
1. Prepare the verification.
1. Attempt to complete the verification.
1. If the verification is successful, set the newly created session as the active session by passing the `SignIn.createdSessionId` to the [`setActive()`](/docs/reference/javascript/clerk#set-active) method on the `Clerk` object.
1. Use the `navigate` parameter in [`setActive()`](/docs/reference/javascript/types/set-active-params) to access [`Session.currentTask`](/docs/reference/javascript/types/session-task) and check for pending session tasks.

#### The state of a `SignUp`

The `SignUp` object will show **the state of the current sign-up** in the `status` property.

If you need further help on where things are and what you need to do next, you can also consult the `required_fields`, `optional_fields`, and `missingFields` properties.

<Properties>
  - `requiredFields`

  All fields that must be collected before the `SignUp` converts into a `User`.

  ---

  - `optionalFields`

  All fields that can be collected, but are not necessary to convert the `SignUp` into a `User`.

  ---

  - `missingFields`

  A subset of `requiredFields`. It contains all fields that still need to be collected before a `SignUp` can be converted into a `User`. Note that this property will be updated dynamically. As you add more fields to the `SignUp`, they will be removed. Once this property is empty, your `SignUp` will automatically convert into a `User`.
</Properties>

#### Verified fields

Some properties of the `SignUp`, such as `emailAddress` and `phoneNumber`, must be **verified** before they are **fully** added to the `SignUp` object.

The `SignUp` object will show **the state of verification** in the following properties:

<Properties>
  - `unverifiedFields`

  A list of all [`User`](/docs/reference/javascript/user) attributes that need to be verified and are pending verification. This is a list that gets updated dynamically. When verification for all required fields has been successfully completed, this value will become an empty array.

  ---

  - `verifications`

  An object that describes the current state of verification for the [`SignUp`](/docs/reference/javascript/sign-in). There are currently three different keys: `email_address`, `phone_number`, and `external_account`.
</Properties>

### Sign-in flow

The [`SignIn`](/docs/reference/javascript/sign-in) object is the pivotal concept in the sign-in process.

Sign-ins are initiated by creating a `SignIn` object on the current `Client`. If the sign-in is successfully authenticated, it will transform into an active session for that [`User`](/docs/reference/javascript/user) on the current `Client`.

The following steps outline the sign-in process:

1. Initiate the sign-in process by collecting the user's authentication information and passing the appropriate parameters to the [`create()`](/docs/reference/javascript/sign-in#create) method.
1. Prepare the first factor verification. Users must complete a first factor verification to prove their identity. This can be something like providing a password, an email link, a one-time password ([OTP](!otp)), a Web3 wallet address, or providing proof of their identity through an external social account (SSO/OAuth).
1. Attempt to complete the first factor verification.
1. Optionally, if you have enabled [multi-factor](/docs/guides/configure/auth-strategies/sign-up-sign-in-options) for your application, you will need to prepare the second factor verification for users who have set up 2FA for their account.
1. Attempt to complete the second factor verification.
1. If verification is successful, set the newly created session as the active session by passing the `SignIn.createdSessionId` to the [`setActive()`](/docs/reference/javascript/clerk#set-active) method on the `Clerk` object.
1. Use the `navigate` parameter in [`setActive()`](/docs/reference/javascript/types/set-active-params) to access [`Session.currentTask`](/docs/reference/javascript/types/session-task) and check for pending session tasks.

### Session tasks

Session tasks require users to complete specific actions after authentication, such as selecting an Organization. These tasks ensure that users meet all requirements before gaining full access to your application.

For detailed information about configuring and implementing session tasks, see the [dedicated guide](/docs/guides/configure/session-tasks).

#### Steps to handle session tasks

After completing the sign-up or sign-in process, you should check if the user has any pending tasks:

1. **Check for pending tasks**: Use the `navigate` parameter in [`setActive()`](/docs/reference/javascript/types/set-active-params) to access [`Session.currentTask`](/docs/reference/javascript/types/session-task) and check for pending session tasks.
1. **Handle the task**: If a task exists, build UI to guide the user through completing the required action based on the task type. See the [available task types](/docs/guides/configure/session-tasks#available-tasks) to understand what actions may be required.
1. **Complete the flow**: Once all required tasks are completed, the session becomes fully `active` and the user can access protected content.

You can build your own UI to handle specific task types. For example, if the task is `choose-organization`, you can create a [custom Organization creation component](/docs/guides/development/custom-flows/organizations/create-organizations) to allow users to create or select an Organization before proceeding.

<If sdk={["nextjs"]}>
  ## Protect pages against pending task

  When `auth.protect()` detects a pending session, it redirects to `/tasks` under the sign-in page. Create this page to handle the pending task and redirect the user appropriately.

  ```tsx {{ filename: 'app/sign-in/tasks/page.tsx' }}
  'use client'

  import { RedirectToTasks } from '@clerk/nextjs'

  export default function Page() {
    return <RedirectToTasks />
  }
  ```
</If>

## Next steps

Now that you have a general understanding of how authentication flows work in Clerk, you can start building your custom flows. To get started, choose the guide that best fits your needs from the list of guides in the navigation on the left.
