---
title: '`clerkMiddleware()` | React Router'
description: The `clerkMiddleware()` function allows you to protect your Astro application using Middleware.
sdk: react-router
---

The `clerkMiddleware()` helper integrates Clerk authentication into your Astro application through middleware.

## Configure `clerkMiddleware()`

Create a `middleware.ts` file inside your `src/` directory.

```ts {{ filename: 'src/middleware.ts' }}
import { clerkMiddleware } from '@clerk/astro/server'

export const onRequest = clerkMiddleware()
```

## `clerkMiddleware()` options

<Include src="_partials/clerk-middleware-options" />
