---
title: Build a custom sign-out flow
description: Learn how to use the Clerk API to build a custom sign-out flow using Clerk's signOut() function.
---

<Include src="_partials/custom-flows-callout" />

Clerk's [`<UserButton />`](/docs/reference/components/user/user-button) and [`<SignOutButton />`](/docs/reference/components/unstyled/sign-out-button) components provide an out-of-the-box solution for signing out users. However, if you're building a custom solution, you can use the `signOut()` function to handle the sign-out process.

The `signOut()` function signs a user out of all sessions in a [multi-session application](/docs/guides/secure/session-options#multi-session-applications), or only the current session in a single-session context. You can also specify a specific session to sign out by passing the `sessionId` parameter.

> [!NOTE]
> The sign-out flow deactivates only the current session. Other valid sessions associated with the same user (e.g., if the user is signed in on another device) will remain active.

<If notSdk={["js-frontend", "ios", "android", "nuxt"]}>
  The [`useClerk()`](/docs/reference/hooks/use-clerk) hook is used to access the `signOut()` function, which is called when the user clicks the "Sign out" button.

  <If notSdk="expo">
    **This example is written for Next.js App Router but it can be adapted for any React-based framework, such as React Router or Tanstack React Start.**

    ```jsx {{ filename: 'app/components/sign-out-button.tsx' }}
    'use client'

    import { useClerk } from '@clerk/nextjs'

    export const SignOutButton = () => {
      const { signOut } = useClerk()

      return (
        // Clicking this button signs out a user
        // and redirects them to the home page "/".
        <button onClick={() => signOut({ redirectUrl: '/' })}>Sign out</button>
      )
    }
    ```
  </If>

  <If sdk="expo">
    <Include src="_partials/expo/sign-out-custom-flow" />
  </If>
</If>

<If sdk="js-frontend">
  <CodeBlockTabs options={["index.html", "main.js"]}>
    ```html {{ filename: 'index.html', collapsible: true }}
    <!doctype html>
    <html lang="en">
      <head>
        <meta charset="UTF-8" />
        <link rel="icon" type="image/svg+xml" href="/clerk.svg" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Clerk + JavaScript App</title>
      </head>

      <body>
        <div id="app"></div>
        <button id="sign-out">Sign out</button>
        <script type="module" src="main.js" async crossorigin="anonymous"></script>
      </body>
    </html>
    ```

    ```js {{ filename: 'main.js', collapsible: true }}
    import { Clerk } from '@clerk/clerk-js'

    const pubKey = import.meta.env.VITE_CLERK_PUBLISHABLE_KEY

    const clerk = new Clerk(pubKey)
    await clerk.load()

    if (clerk.isSignedIn) {
      // Attach signOut function to the sign-out button
      document.getElementById('sign-out').addEventListener('click', async () => {
        await clerk.signOut()
        // Optional: refresh page after sign-out
        window.location.reload()
      })
    }
    ```
  </CodeBlockTabs>
</If>

<If sdk="ios">
  ```swift {{ filename: 'SignOutView.swift', collapsible: true }}
    import SwiftUI
    import ClerkKit

    struct SignOutView: View {
      @Environment(Clerk.self) private var clerk

      var body: some View {
        if let user = clerk.user {
          Text("Signed in as: \(user.id)")
          Button("Sign out") {
            Task { await signOut() }
          }
        } else {
          Text("You are signed out")
        }
      }
    }

    extension SignOutView {

      func signOut() async {
        do {
          // Sign out the active user
          try await clerk.auth.signOut()
        } catch {
          // See https://clerk.com/docs/guides/development/custom-flows/error-handling
          // for more info on error handling.
          dump(error)
        }
      }
    }
  ```
</If>

<If sdk="android">
  <CodeBlockTabs options={["MainViewModel.kt", "MainActivity.kt"]}>
    ```kotlin {{ filename: 'MainViewModel.kt', collapsible: true }}
    package com.clerk.customflows

    import androidx.lifecycle.ViewModel
    import androidx.lifecycle.viewModelScope
    import com.clerk.api.Clerk
    import com.clerk.api.network.serialization.onFailure
    import com.clerk.api.network.serialization.onSuccess
    import kotlinx.coroutines.flow.MutableStateFlow
    import kotlinx.coroutines.flow.asStateFlow
    import kotlinx.coroutines.flow.combine
    import kotlinx.coroutines.flow.launchIn
    import kotlinx.coroutines.launch

    class MainViewModel : ViewModel() {

    private val _uiState = MutableStateFlow<UiState>(UiState.Loading)
    val uiState = _uiState.asStateFlow()

    init {
      combine(Clerk.isInitialized, Clerk.userFlow) { isInitialized, user ->
          _uiState.value =
            when {
              !isInitialized -> UiState.Loading
              user != null -> UiState.SignedIn
              else -> UiState.SignedOut
            }
        }
        .launchIn(viewModelScope)
    }

    fun signOut() {
      viewModelScope.launch {
        Clerk.auth
          .signOut()
          .onSuccess { _uiState.value = UiState.SignedOut }
          .onFailure {
            // See https://clerk.com/docs/guides/development/custom-flows/error-handling
            // for more info on error handling
          }
      }
    }

    sealed interface UiState {
      data object SignedIn : UiState

      data object SignedOut : UiState

      data object Loading : UiState
    }
    }
    ```

    ```kotlin {{ filename: 'MainActivity.kt', collapsible: true }}
    package com.clerk.customflows

    import android.content.Intent
    import android.os.Bundle
    import androidx.activity.ComponentActivity
    import androidx.activity.compose.setContent
    import androidx.activity.enableEdgeToEdge
    import androidx.activity.viewModels
    import androidx.compose.foundation.layout.Arrangement
    import androidx.compose.foundation.layout.Box
    import androidx.compose.foundation.layout.Column
    import androidx.compose.foundation.layout.fillMaxSize
    import androidx.compose.foundation.layout.fillMaxWidth
    import androidx.compose.foundation.layout.height
    import androidx.compose.foundation.layout.padding
    import androidx.compose.foundation.shape.RoundedCornerShape
    import androidx.compose.material3.Button
    import androidx.compose.material3.ButtonDefaults
    import androidx.compose.material3.CircularProgressIndicator
    import androidx.compose.material3.Scaffold
    import androidx.compose.material3.Text
    import androidx.compose.runtime.Composable
    import androidx.compose.runtime.getValue
    import androidx.compose.ui.Alignment
    import androidx.compose.ui.Modifier
    import androidx.compose.ui.graphics.Color
    import androidx.compose.ui.platform.LocalContext
    import androidx.compose.ui.res.stringResource
    import androidx.compose.ui.unit.dp
    import androidx.lifecycle.compose.collectAsStateWithLifecycle
    import com.clerk.customflows.addemail.AddEmailActivity
    import com.clerk.customflows.addphone.AddPhoneActivity
    import com.clerk.customflows.emailpassword.mfa.MFASignInActivity
    import com.clerk.customflows.emailpassword.signin.EmailPasswordSignInActivity
    import com.clerk.customflows.emailpassword.signup.EmailPasswordSignUpActivity
    import com.clerk.customflows.forgotpassword.emailaddress.ForgotPasswordEmailActivity
    import com.clerk.customflows.forgotpassword.phone.ForgotPasswordPhoneNumberActivity
    import com.clerk.customflows.oauth.OAuthActivity
    import com.clerk.customflows.otp.signin.SMSOTPSignInActivity
    import com.clerk.customflows.otp.signup.SMSOTPSignUpActivity
    import com.clerk.customflows.ui.theme.ClerkTheme

    class MainActivity : ComponentActivity() {
    val viewModel: MainViewModel by viewModels()

    override fun onCreate(savedInstanceState: Bundle?) {
      super.onCreate(savedInstanceState)
      enableEdgeToEdge()
      setContent {
        val state by viewModel.uiState.collectAsStateWithLifecycle()
        ClerkTheme {
          Scaffold(modifier = Modifier.fillMaxSize()) { innerPadding ->
            Box(modifier = Modifier.fillMaxSize(), contentAlignment = Alignment.Center) {
              when (state) {
                MainViewModel.UiState.Loading -> CircularProgressIndicator()

                MainViewModel.UiState.SignedIn ->
                  SignedInContent(modifier = Modifier.padding(innerPadding), viewModel::signOut)

                MainViewModel.UiState.SignedOut ->
                  SignedOutContent(modifier = Modifier.padding(innerPadding))
              }
            }
          }
        }
      }
    }
    }

    @Composable
    private fun SignedInContent(modifier: Modifier = Modifier, onSignOut: () -> Unit) {
    val context = LocalContext.current
    Column(
      modifier = Modifier.fillMaxSize().padding(horizontal = 24.dp).then(modifier),
      verticalArrangement = Arrangement.spacedBy(24.dp, alignment = Alignment.CenterVertically),
    ) {
      LaunchCustomFlowButton(buttonText = stringResource(R.string.add_email_address)) {
        context.startActivity(Intent(context, AddEmailActivity::class.java))
      }
      LaunchCustomFlowButton(buttonText = stringResource(R.string.add_phone_number)) {
        context.startActivity(Intent(context, AddPhoneActivity::class.java))
      }
      Button(
        shape = RoundedCornerShape(8.dp),
        colors = ButtonDefaults.buttonColors(containerColor = Color.Red),
        modifier = Modifier.fillMaxWidth().height(48.dp),
        onClick = { onSignOut() },
      ) {
        Text(stringResource(R.string.sign_out), color = Color.White)
      }
    }
    }

    @Composable
    private fun SignedOutContent(modifier: Modifier = Modifier) {
    val context = LocalContext.current
    Column(
      modifier = Modifier.fillMaxSize().padding(horizontal = 24.dp).then(modifier),
      verticalArrangement = Arrangement.spacedBy(24.dp, alignment = Alignment.CenterVertically),
    ) {
      LaunchCustomFlowButton(buttonText = stringResource(R.string.email_password_sign_in)) {
        context.startActivity(Intent(context, EmailPasswordSignInActivity::class.java))
      }
      LaunchCustomFlowButton(buttonText = stringResource(R.string.email_password_sign_up)) {
        context.startActivity(Intent(context, EmailPasswordSignUpActivity::class.java))
      }
      LaunchCustomFlowButton(buttonText = stringResource(R.string.email_password_mfa)) {
        context.startActivity(Intent(context, MFASignInActivity::class.java))
      }
      LaunchCustomFlowButton(buttonText = stringResource(R.string.sign_in_with_oauth)) {
        context.startActivity(Intent(context, OAuthActivity::class.java))
      }
      LaunchCustomFlowButton(buttonText = stringResource(R.string.reset_password_phone)) {
        context.startActivity(Intent(context, ForgotPasswordPhoneNumberActivity::class.java))
      }
      LaunchCustomFlowButton(buttonText = stringResource(R.string.reset_password_email)) {
        context.startActivity(Intent(context, ForgotPasswordEmailActivity::class.java))
      }
      LaunchCustomFlowButton(buttonText = "SMS/OTP SignUp") {
        context.startActivity(Intent(context, SMSOTPSignUpActivity::class.java))
      }
      LaunchCustomFlowButton(buttonText = "SMS/OTP Sign In") {
        context.startActivity(Intent(context, SMSOTPSignInActivity::class.java))
      }
    }
    }

    @Composable
    fun LaunchCustomFlowButton(modifier: Modifier = Modifier, buttonText: String, onClick: () -> Unit) {
    Button(
      shape = RoundedCornerShape(8.dp),
      modifier = Modifier.fillMaxWidth().height(48.dp).then(modifier),
      onClick = onClick,
    ) {
      Text(buttonText)
    }
    }
    ```
  </CodeBlockTabs>
</If>

<If sdk="nuxt">
  <Include src="_partials/sdk-examples-not-available-callout" />
</If>
