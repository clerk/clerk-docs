```swift {{ filename: 'EmailPasswordSignUpView.swift', collapsible: true }}
import SwiftUI
import Clerk

struct EmailPasswordSignUpView: View {
    @State private var email = ""
    @State private var password = ""
    @State private var code = ""
    @State private var isVerifying = false

    var body: some View {
    if isVerifying {
        // Display the verification form to capture the OTP code
        TextField("Enter your verification code", text: $code)
        Button("Verify") {
        Task { await verify(code: code) }
        }
    } else {
        // Display the initial sign-up form to capture the email and password
        TextField("Enter email address", text: $email)
        SecureField("Enter password", text: $password)
        Button("Next") {
        Task { await submit(email: email, password: password) }
        }
    }
    }
}

extension EmailPasswordSignUpView {

    func submit(email: String, password: String) async {
    do {
        // Start the sign-up process using the email and password provided
        let signUp = try await SignUp.create(strategy: .standard(emailAddress: email, password: password))

        // Send the user an email with the verification code
        try await signUp.prepareVerification(strategy: .emailCode)

        // Set 'isVerifying' true to display second form
        // and capture the OTP code
        isVerifying = true
    } catch {
        // See https://clerk.com/docs/guides/development/custom-flows/error-handling
        // for more info on error handling
        dump(error)
    }
    }

    func verify(code: String) async {
    do {
        // Access the in progress sign up stored on the client
        guard let inProgressSignUp = Clerk.shared.client?.signUp else { return }

        // Use the code the user provided to attempt verification
        let signUp = try await inProgressSignUp.attemptVerification(strategy: .emailCode(code: code))

        switch signUp.status {
        case .complete:
        // If verification was completed, navigate the user as needed.
        dump(Clerk.shared.session)
        default:
        // If the status is not complete, check why. User may need to
        // complete further steps.
        dump(signUp.status)
        }
    } catch {
        // See https://clerk.com/docs/guides/development/custom-flows/error-handling
        // for more info on error handling
        dump(error)
    }
    }
}
```
