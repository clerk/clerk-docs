```swift {{ filename: 'SMSOTPSignInView.swift', collapsible: true }}
import SwiftUI
import Clerk

struct SMSOTPSignInView: View {
@State private var phoneNumber = ""
@State private var code = ""
@State private var isVerifying = false

var body: some View {
    if isVerifying {
    TextField("Enter your verification code", text: $code)
    Button("Verify") {
        Task { await verify(code: code) }
    }
    } else {
    TextField("Enter phone number", text: $phoneNumber)
    Button("Continue") {
        Task { await submit(phoneNumber: phoneNumber) }
    }
    }
}
}

extension SMSOTPSignInView {

func submit(phoneNumber: String) async {
    do {
    // Start the sign-in process using the phone number method.
    let signIn = try await SignIn.create(strategy: .identifier(phoneNumber))

    // Send the OTP code to the user.
    try await signIn.prepareFirstFactor(strategy: .phoneCode())

    // Set isVerifying to true to display second form
    // and capture the OTP code.
    isVerifying = true
    } catch {
    // See https://clerk.com/docs/guides/development/custom-flows/error-handling
    // for more info on error handling
    dump(error)
    }
}

func verify(code: String) async {
    do {
    // Access the in progress sign in stored on the client object.
    guard let inProgressSignIn = Clerk.shared.client?.signIn else { return }

    // Use the code provided by the user and attempt verification.
    let signIn = try await inProgressSignIn.attemptFirstFactor(strategy: .phoneCode(code: code))

    switch signIn.status {
    case .complete:
        // If verification was completed, navigate the user as needed.
        dump(Clerk.shared.session)
    default:
        // If the status is not complete, check why. User may need to
        // complete further steps.
        dump(signIn.status)
    }
    } catch {
    // See https://clerk.com/docs/guides/development/custom-flows/error-handling
    // for more info on error handling
    dump(error)
    }
}
}
```
