---
title: Add Google Workspace as a SAML connection
description: Learn how to integrate Google Workspace with Clerk using SAML SSO.
---

<TutorialHero
  beforeYouStart={[
    {
      title: "Add the Enhanced authentication add-on to your Pro plan",
      link: "/pricing",
      icon: "plus-circle",
    },
    {
      title: "Enable email address as an identifier for your application.",
      link: "/docs/authentication/configuration/sign-up-sign-in-options#identifiers",
      icon: "key",
    }
  ]}
/>

Enabling SAML with Google allows your users to sign up and sign in to your Clerk application with their Google account. It requires that a SAML connection is configured in both the Clerk Dashboard and Google Admin Console. This guide assumes that you have access to the Clerk app's settings in the Clerk Dashboard. The "customer" in this case is whoever has access to the Google Admin Console.

<Steps>
  ## Enable Google as a SAML connection in Clerk

  1. In the Clerk Dashboard, navigate to the [**SSO connections**](https://dashboard.clerk.com/last-active?path=user-authentication/sso-connections) page.
  1. Select **Add connection** and select **For specific domains or organizations**.
  1. Under **SAML**, select **Google Workspace**.
  1. Enter the **Domain**. This is the email domain of the users you want to allow to sign in to your application. Optionally, select an **Organization**.
  1. Enter the **Name**. This will be displayed on the sign-in form.
  1. Select **Add connection**. You'll be redirected to the connection's configuration page. Note that the connection is disabled by default.
  1. In the **Service Provider Configuration** section, save the **ACS URL** and **Entity ID** values somewhere secure. You'll need to give these to the customer so they can configure their Google app.

  ## Configure SAML app

  Now that the enterprise connection is configured in Clerk and the **ACS URL** and **Entity ID** are known, the customer's Google app needs to be configured. At a high level, the process is:

  - Create a new enterprise application in Google.
  - Add the **ACS URL** and **Entity ID** from Clerk to the Google app's SAML configuration.
  - Verify that the attribute mappings are correct.
  - Obtain and share the app's metadata file.

  To get you started, you can use the following email template with detailed instructions:

  <Copyable as="html">
    Here are the instructions for setting up SAML SSO with Google:

    **Step 1: Create a new enterprise app in Google**

    1. Navigate to the [Google Admin Console](https://admin.google.com/) and sign in.
    1. In the navigation sidenav, under **Apps**, select **Web and mobile apps**.
    1. Select the **Add app** button.
    1. From the dropdown, select **Add custom SAML app**.
    1. In the **App details** section, an **App name** is required.
    1. Select the **Continue** button.
    1. Paste the **ACS URL** and **Entity ID** values you saved from the Clerk Dashboard into their respective fields.
    1. Under the **Name ID** section, select the **Name ID format** dropdown and select **Email**.
    1. Select **Continue**.

    **Step 2: Share the app's metadata URL**

    Under **Option 1: Download IdP Metadata**, select the **Download Metadata** button. Send this file to the Clerk app admin so they can connect the Clerk app to the Google app.

    **Step 3: Verify correct configuration of attributes and claims**

    We expect your SAML responses to have the following specific attributes:

    - Email address (required). This is the email address that your users will use to authenticate into your app:
      - Claim name: `user.email`
    - First name (optional):
      - Claim name: `user.firstName`
    - Last name (optional):
      - Claim name: `user.lastName`

    These are the defaults, and probably won't need you to change them. However, many SAML configuration errors are due to incorrect attribute mappings, so it's worth double-checking. Here's how:

    1. In the Google Admin Console, under the **Attributes** section, select **Add mapping**.
    1. Select the dropdown under **Google Directory attributes**.
    1. Select **Primary email**.
    1. In the **App attributes** field, enter `mail`.
    1. If you have additional claims that you would like to map to Clerk, see the next step. Otherwise, select the **Finish** button.

    **Step 4: Map additional claims (optional)**

    In Clerk, the [`User`](/docs/users/overview#user-object) object has a `publicMetadata` property that you can use to store additional information about your users.

    To map other claims from Google that don't have a direct mapping to Clerk attributes, you can map them to Clerk's `publicMetadata` property. To do this, prepend the Clerk claims with `public_metadata_` during the mapping process.

    For example, say your users have the "Phone number" attribute in Google. You can map this to your users' public metadata in Clerk by mapping the Google field to `public_metadata_phone_number`.

    1. In the Google Admin Console, under the **Attributes** section, select the dropdown under **Google Directory attributes**.
    1. Select **Phone number**.
    1. In the **App attributes** field, enter `public_metadata_phone_number`.
    1. Select the **Finish** button.

    The value for the user's phone number will be saved in the user's `User.publicMetadata` under the key `phone_number`.

    Learn more about [how to access the metadata from our APIs](/docs/users/metadata).

    **Step 5: Enable the connection**

    Once the configuration is complete in Google, you'll be redirected to the app's overview page.

    1. In the **User access** section, select **OFF for everyone**. You'll be redirected to the **Service status** page.
    1. Select **ON for everyone**.
    1. Select **Save**.
  </Copyable>

  ## Add the metadata file to the Clerk app

  After following the instructions in the email, your customer should have sent you the Google app's metadata file. Now, you're going to add it to the Clerk connection, completing the SAML connection configuration.

  1. In the Clerk Dashboard, navigate to the [**SSO connections**](https://dashboard.clerk.com/last-active?path=user-authentication/sso-connections) page.
  1. Select the connection you created in the previous step.
  1. In the **Identity Provider Configuration** section, select **Upload file**.
  1. Upload the metadata file you received from your customer. Keep this page open.

  ## Enable the connection in Clerk

  <Include src="_partials/authentication/saml/enable-connection" />
</Steps>
