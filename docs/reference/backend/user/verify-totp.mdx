---
title: '`verifyTOTP()`'
description: Use Clerk's JS Backend SDK to verify a TOTP or backup code for a user.
sdk: js-backend
---

{/* clerk/javascript file: https://github.com/clerk/javascript/blob/main/packages/backend/src/api/endpoints/UserApi.ts#L236 */}

Verify that the provided TOTP or backup code is valid for the user. Verifying a backup code will result it in being consumed (i.e. it will become invalid). Useful for custom auth flows and re-verification.

```ts
function verifyTOTP(params: VerifyTOTPParams): Promise<{ verified: true; code_type: 'totp' }>
```

## `VerifyTOTPParams`

<Properties>
  - `userId`
  - `string`

  The ID of the user to verify the TOTP for.

  ---

  - `code`
  - `string`

  The TOTP or backup code to verify
</Properties>

## Example

<Include src="_partials/backend/usage" />

```tsx
const userId = 'user_123'

const code = '123456'

const response = await clerkClient.users.verifyTOTP({
  userId,
  code,
})
```

## Backend API (BAPI) endpoint

This method in the SDK is a wrapper around the BAPI endpoint `POST/users/{user_id}/verify_totp`. See the [BAPI reference](/docs/reference/backend-api/tag/users/post/users/\{user_id}/verify_totp){{ target: '_blank' }} for more information.
