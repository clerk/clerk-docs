---
title: '`clerkMiddleware()` | React Router'
description: The `clerkMiddleware()` function allows you to protect your React Router application using middleware.
sdk: react-router
---

The `clerkMiddleware()` helper integrates Clerk authentication into your React Router application through middleware.

## Configure `clerkMiddleware()`

1. React Router middleware requires opting in via a future flag. Add the following to your `react-router.config.ts` file:

   ```ts {{ filename: 'react-router.config.ts' }}
   import type { Config } from "@react-router/dev/config";

   export default {
     future: {
       v8_middleware: true,
     },
   } satisfies Config;
   ```

2. Export `clerkMiddleware()` from your root route file:

   ```tsx {{ filename: 'app/root.tsx' }}
   import { clerkMiddleware } from '@clerk/react-router/server'
   import type { Route } from './+types/root'

   export const middleware: Route.MiddlewareFunction[] = [clerkMiddleware()]
   ```

## `clerkMiddleware()` options

<Include src="_partials/clerk-middleware-options" />
