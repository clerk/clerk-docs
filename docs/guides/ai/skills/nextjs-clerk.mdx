---
title: Next.js Clerk skill
description: Enable AI agents to build Next.js applications with Clerk authentication.
---

The `nextjs-clerk` skill helps AI agents build Next.js applications with Clerk authentication. It provides templates and scripts for route protection, auth UI components, organization support, and webhook handlers.

## Installation

<Tabs items={["curl (All agents)", "Claude Code", "Manual"]}>
  <Tab>
    Run the following command to install Clerk skills for your AI agent:

    ```bash
    curl -fsSL https://clerk.com/skills/install | bash
    ```

    This automatically detects and installs skills for Claude Code, Cursor, Windsurf, OpenCode, Gemini CLI, and Aider.
  </Tab>

  <Tab>
    Install via the Claude Code plugin marketplace:

    ```bash
    claude plugin marketplace add clerk/clerk-skills
    claude plugin install clerk@clerk-skills
    ```
  </Tab>

  <Tab>
    Clone the skills repository:

    ```bash
    git clone https://github.com/clerk/skills ~/.claude/skills/clerk
    ```
  </Tab>
</Tabs>

## Setup

Before using the skill, set your Clerk environment variables:

```bash
export NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_test_..."
export CLERK_SECRET_KEY="sk_test_..."
```

Get your keys from the [Clerk Dashboard](https://dashboard.clerk.com) under **API Keys**.

## Features

The skill provides templates and scripts for:

- **Project setup**: Bootstrap new Next.js + Clerk projects with `ClerkProvider`
- **Route protection**: Middleware patterns (basic, public-by-default, org-aware)
- **Auth pages**: Sign-in and sign-up page templates
- **Components**: `UserButton`, `SignInButton`, `OrganizationSwitcher`, and more
- **Organizations**: B2B/multi-tenant support with organization management
- **Webhooks**: Clerk webhook handler templates
- **Server actions**: Server-side authentication patterns

## Available scripts

| Script | Description |
| --- | --- |
| `setup.sh` | Bootstrap new Next.js + Clerk project |
| `middleware.sh` | Generate route protection middleware |
| `auth-pages.sh` | Generate sign-in/sign-up pages |
| `components.sh` | Generate common auth components |
| `webhook.sh` | Generate webhook handlers |

## Example prompts

Once installed, you can ask your AI agent:

- "Add Clerk authentication to my Next.js app"
- "Protect the /dashboard route with Clerk middleware"
- "Create a sign-in page with Clerk"
- "Add organization support to my app"
- "Set up a Clerk webhook handler"

## Common patterns

### Protect routes with middleware

```ts {{ filename: 'middleware.ts' }}
import { clerkMiddleware, createRouteMatcher } from '@clerk/nextjs/server'

const isProtectedRoute = createRouteMatcher(['/dashboard(.*)'])

export default clerkMiddleware(async (auth, req) => {
  if (isProtectedRoute(req)) {
    await auth.protect()
  }
})

export const config = {
  matcher: ['/((?!.*\\..*|_next).*)', '/', '/(api|trpc)(.*)'],
}
```

### Add auth UI components

```tsx {{ filename: 'app/layout.tsx' }}
import { ClerkProvider, SignInButton, SignedIn, SignedOut, UserButton } from '@clerk/nextjs'

export default function RootLayout({ children }) {
  return (
    <ClerkProvider>
      <html lang="en">
        <body>
          <header>
            <SignedOut>
              <SignInButton />
            </SignedOut>
            <SignedIn>
              <UserButton />
            </SignedIn>
          </header>
          {children}
        </body>
      </html>
    </ClerkProvider>
  )
}
```

## Source code

View the skill source code on [GitHub](https://github.com/clerk/skills/tree/main/plugins/clerk/skills/nextjs-clerk).
