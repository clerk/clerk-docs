---
title: Use Clerk with Astro and React
description: Learn how to user Clerk inside an Astro app with React
---

# Use Clerk with Astro and React

<TutorialHero
  framework="astro"
  beforeYouStart={[
    {
      title: "Set up `@clerk/astro`",
      link: "/docs/quickstarts/astro",
      icon: "astro",
    },
  ]}
/>


<Steps>
### Install `@astrojs/react`

Clerk's [Astro SDK](/docs/references/astro/overview) has prebuilt components and helpers to make user authentication easier.

To get started using Clerk with Astro, add the SDK to your project:

<CodeBlockTabs type="installer" options={["npm", "yarn", "pnpm"]}>
  ```bash filename="terminal"
  npx astro add react
  ```

  ```bash filename="terminal"
  yarn astro add react
  ```

  ```bash filename="terminal"
  pnpm astro add react
  ```
</CodeBlockTabs>

### Update `astro.config.mjs`

Add the react integration inside your Astro configuration file.

```ts filename="astro.config.mjs" {2,3,6-8}
import { defineConfig } from "astro/config";
import node from "@astrojs/node";
import react from "@astrojs/react";
import clerk from "@clerk/astro";

export default defineConfig({
  integrations: [clerk(),react()],
  output: "server",
  adapter: node({ mode: "standalone" }),
});
```

### Use Clerk React components in Astro pages

Clerk offers components that allow you to protect your pages. These components are used to control the visibility of your pages based on the user's authentication state.


```astro filename="src/layouts/SiteLayout.astro"
---
import { SignedIn, SignedOut, UserButton, SignInButton } from "@clerk/astro/react";
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
  </head>
  <body>
    <header>
      <h1>{title}</h1>
      <nav>
        <SignedOut client:load>
         <SignInButton client:load mode="modal" />
        </SignedOut>
        <SignedIn client:load>
          <UserButton client:load/>
        </SignedIn>
      </nav>
    </header>
    <article>
      <slot />
    </article>
  </body>
  <style>
    h1 {
      font-size: 2rem;
    }
  </style>
</html>
```

### Use Clerk React components in your React components

```tsx filename="src/components/Header.tsx"
import {
    SignInButton,
    SignedIn,
    SignedOut,
    UserButton
} from '@clerk/astro/react'

export default function Header() {
    return (
        <>
            <p>My App</p>
            <SignedOut>
                <SignInButton />
            </SignedOut>
            <SignedIn>
                <UserButton />
            </SignedIn>
        </>
    )
}
```

### Use stores in your React components

```tsx filename="src/components/Header.tsx"
import { $userStore } from '@clerk/astro/react'

export default function Username() {
    const user = useSyncExternalStore($userStore.listen, $userStore.get, $userStore.get)
    return (
        <>
            {user?.firstName}
        </>
    )
}
```

</Steps>

## Next steps

<div className="container mx-auto my-4">
  <div className="grid grid-cols-1 gap-6 md:grid-cols-2">

    <Cards title="Protect routes using Clerk Middleware" description="Learn how to protect specific routes from unauthenticated users." link="/docs/references/astro/clerk-middleware" cta="Learn More" />

  </div>
</div>
