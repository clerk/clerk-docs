```swift {{ filename: 'SMSOTPSignUpView.swift', collapsible: true }}
import SwiftUI
import Clerk

struct SMSOTPSignUpView: View {
@State private var phoneNumber = ""
@State private var code = ""
@State private var isVerifying = false

var body: some View {
    if isVerifying {
    TextField("Enter your verification code", text: $code)
    Button("Verify") {
        Task { await verify(code: code) }
    }
    } else {
    TextField("Enter phone number", text: $phoneNumber)
    Button("Continue") {
        Task { await submit(phoneNumber: phoneNumber) }
    }
    }
}
}

extension SMSOTPSignUpView {

func submit(phoneNumber: String) async {
    do {
    // Start the sign-up process using the phone number method.
    let signUp = try await SignUp.create(strategy: .standard(phoneNumber: phoneNumber))

    // Start the verification - a SMS message will be sent to the
    // number with a one-time code.
    try await signUp.prepareVerification(strategy: .phoneCode)

    // Set isVerifying to true to display second form and capture the OTP code.
    isVerifying = true
    } catch {
    // See https://clerk.com/docs/guides/development/custom-flows/error-handling
    // for more info on error handling
    dump(error)
    }
}

func verify(code: String) async {
    do {
    // Access the in progress sign up stored on the client object.
    guard let inProgressSignUp = Clerk.shared.client?.signUp else { return }

    // Use the code provided by the user and attempt verification.
    let signUp = try await inProgressSignUp.attemptVerification(strategy: .phoneCode(code: code))

    switch signUp.status {
    case .complete:
        // If verification was completed, navigate the user as needed.
        dump(Clerk.shared.session)
    default:
        // If the status is not complete, check why. User may need to
        // complete further steps.
        dump(signUp.status)
    }
    } catch {
    // See https://clerk.com/docs/guides/development/custom-flows/error-handling
    // for more info on error handling
    dump(error)
    }
}
}
```
