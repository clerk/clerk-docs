<If sdk="react">
  ```tsx {{ filename: 'src/components/CreateOrganizationWithWarning.tsx' }}
  import { useOrganizationCreationDefaults, useOrganizationList } from '@clerk/clerk-react'
  import { FormEventHandler, useEffect, useState } from 'react'

  export default function CreateOrganizationWithWarning() {
    const { isLoaded, createOrganization } = useOrganizationList()
    const { data: defaults, isLoading } = useOrganizationCreationDefaults()
    const [organizationName, setOrganizationName] = useState('')

    useEffect(() => {
      if (defaults?.form.name) {
        setOrganizationName(defaults.form.name)
      }
    }, [defaults?.form.name])

    if (!isLoaded || isLoading) return <div>Loading...</div>

    // Check if an organization with this name/domain already exists
    const advisory = defaults?.advisory
    const showWarning = advisory?.code === 'organization_already_exists'
    const existingOrgName = advisory?.meta?.organization_name
    const existingOrgDomain = advisory?.meta?.organization_domain

    const handleSubmit: FormEventHandler<HTMLFormElement> = async (e) => {
      e.preventDefault()
      try {
        await createOrganization?.({ name: organizationName })
      } catch (err) {
        // See https://clerk.com/docs/guides/development/custom-flows/error-handling
        // for more info on error handling
        console.error(JSON.stringify(err, null, 2))
      }
    }

    return (
      <form onSubmit={handleSubmit}>
        <input
          type="text"
          value={organizationName}
          onChange={(e) => setOrganizationName(e.target.value)}
          placeholder="Organization name"
        />
        {showWarning && (
          <p style={{ color: 'orange' }}>
            An organization "{existingOrgName}" already exists for the domain "{existingOrgDomain}".
          </p>
        )}
        <button type="submit">Create organization</button>
      </form>
    )
  }
  ```
</If>

<If sdk="react-router">
  ```tsx {{ filename: 'app/components/CreateOrganizationWithWarning.tsx' }}
  import { useOrganizationCreationDefaults, useOrganizationList } from '@clerk/react-router'
  import { FormEventHandler, useEffect, useState } from 'react'

  export default function CreateOrganizationWithWarning() {
    const { isLoaded, createOrganization } = useOrganizationList()
    const { data: defaults, isLoading } = useOrganizationCreationDefaults()
    const [organizationName, setOrganizationName] = useState('')

    useEffect(() => {
      if (defaults?.form.name) {
        setOrganizationName(defaults.form.name)
      }
    }, [defaults?.form.name])

    if (!isLoaded || isLoading) return <div>Loading...</div>

    // Check if an organization with this name/domain already exists
    const advisory = defaults?.advisory
    const showWarning = advisory?.code === 'organization_already_exists'
    const existingOrgName = advisory?.meta?.organization_name
    const existingOrgDomain = advisory?.meta?.organization_domain

    const handleSubmit: FormEventHandler<HTMLFormElement> = async (e) => {
      e.preventDefault()
      try {
        await createOrganization?.({ name: organizationName })
      } catch (err) {
        // See https://clerk.com/docs/guides/development/custom-flows/error-handling
        // for more info on error handling
        console.error(JSON.stringify(err, null, 2))
      }
    }

    return (
      <form onSubmit={handleSubmit}>
        <input
          type="text"
          value={organizationName}
          onChange={(e) => setOrganizationName(e.target.value)}
          placeholder="Organization name"
        />
        {showWarning && (
          <p style={{ color: 'orange' }}>
            An organization "{existingOrgName}" already exists for the domain "{existingOrgDomain}".
          </p>
        )}
        <button type="submit">Create organization</button>
      </form>
    )
  }
  ```
</If>

<If sdk="chrome-extension">
  ```tsx {{ filename: 'src/components/CreateOrganizationWithWarning.tsx' }}
  import { useOrganizationCreationDefaults, useOrganizationList } from '@clerk/chrome-extension'
  import { FormEventHandler, useEffect, useState } from 'react'

  export default function CreateOrganizationWithWarning() {
    const { isLoaded, createOrganization } = useOrganizationList()
    const { data: defaults, isLoading } = useOrganizationCreationDefaults()
    const [organizationName, setOrganizationName] = useState('')

    useEffect(() => {
      if (defaults?.form.name) {
        setOrganizationName(defaults.form.name)
      }
    }, [defaults?.form.name])

    if (!isLoaded || isLoading) return <div>Loading...</div>

    // Check if an organization with this name/domain already exists
    const advisory = defaults?.advisory
    const showWarning = advisory?.code === 'organization_already_exists'
    const existingOrgName = advisory?.meta?.organization_name
    const existingOrgDomain = advisory?.meta?.organization_domain

    const handleSubmit: FormEventHandler<HTMLFormElement> = async (e) => {
      e.preventDefault()
      try {
        await createOrganization?.({ name: organizationName })
      } catch (err) {
        // See https://clerk.com/docs/guides/development/custom-flows/error-handling
        // for more info on error handling
        console.error(JSON.stringify(err, null, 2))
      }
    }

    return (
      <form onSubmit={handleSubmit}>
        <input
          type="text"
          value={organizationName}
          onChange={(e) => setOrganizationName(e.target.value)}
          placeholder="Organization name"
        />
        {showWarning && (
          <p style={{ color: 'orange' }}>
            An organization "{existingOrgName}" already exists for the domain "{existingOrgDomain}".
          </p>
        )}
        <button type="submit">Create organization</button>
      </form>
    )
  }
  ```
</If>

<If sdk="tanstack-react-start">
  ```tsx {{ filename: 'app/components/CreateOrganizationWithWarning.tsx' }}
  import { useOrganizationCreationDefaults, useOrganizationList } from '@clerk/tanstack-react-start'
  import { FormEventHandler, useEffect, useState } from 'react'

  export default function CreateOrganizationWithWarning() {
    const { isLoaded, createOrganization } = useOrganizationList()
    const { data: defaults, isLoading } = useOrganizationCreationDefaults()
    const [organizationName, setOrganizationName] = useState('')

    useEffect(() => {
      if (defaults?.form.name) {
        setOrganizationName(defaults.form.name)
      }
    }, [defaults?.form.name])

    if (!isLoaded || isLoading) return <div>Loading...</div>

    // Check if an organization with this name/domain already exists
    const advisory = defaults?.advisory
    const showWarning = advisory?.code === 'organization_already_exists'
    const existingOrgName = advisory?.meta?.organization_name
    const existingOrgDomain = advisory?.meta?.organization_domain

    const handleSubmit: FormEventHandler<HTMLFormElement> = async (e) => {
      e.preventDefault()
      try {
        await createOrganization?.({ name: organizationName })
      } catch (err) {
        // See https://clerk.com/docs/guides/development/custom-flows/error-handling
        // for more info on error handling
        console.error(JSON.stringify(err, null, 2))
      }
    }

    return (
      <form onSubmit={handleSubmit}>
        <input
          type="text"
          value={organizationName}
          onChange={(e) => setOrganizationName(e.target.value)}
          placeholder="Organization name"
        />
        {showWarning && (
          <p style={{ color: 'orange' }}>
            An organization "{existingOrgName}" already exists for the domain "{existingOrgDomain}".
          </p>
        )}
        <button type="submit">Create organization</button>
      </form>
    )
  }
  ```
</If>

<If sdk="expo">
  ```tsx {{ filename: 'components/CreateOrganizationWithWarning.tsx' }}
  import { useOrganizationCreationDefaults, useOrganizationList } from '@clerk/clerk-expo'
  import { useEffect, useState } from 'react'
  import { Text, TextInput, TouchableOpacity, View } from 'react-native'

  export default function CreateOrganizationWithWarning() {
    const { isLoaded, createOrganization } = useOrganizationList()
    const { data: defaults, isLoading } = useOrganizationCreationDefaults()
    const [organizationName, setOrganizationName] = useState('')

    useEffect(() => {
      if (defaults?.form.name) {
        setOrganizationName(defaults.form.name)
      }
    }, [defaults?.form.name])

    if (!isLoaded || isLoading) return <Text>Loading...</Text>

    // Check if an organization with this name/domain already exists
    const advisory = defaults?.advisory
    const showWarning = advisory?.code === 'organization_already_exists'
    const existingOrgName = advisory?.meta?.organization_name
    const existingOrgDomain = advisory?.meta?.organization_domain

    const handleSubmit = async () => {
      try {
        await createOrganization?.({ name: organizationName })
      } catch (err) {
        // See https://clerk.com/docs/guides/development/custom-flows/error-handling
        // for more info on error handling
        console.error(JSON.stringify(err, null, 2))
      }
    }

    return (
      <View>
        <TextInput
          value={organizationName}
          onChangeText={setOrganizationName}
          placeholder="Organization name"
        />
        {showWarning && (
          <Text style={{ color: 'orange' }}>
            An organization "{existingOrgName}" already exists for the domain "{existingOrgDomain}".
          </Text>
        )}
        <TouchableOpacity onPress={handleSubmit}>
          <Text>Create organization</Text>
        </TouchableOpacity>
      </View>
    )
  }
  ```
</If>

<If notSdk={["react", "react-router", "chrome-extension", "tanstack-react-start", "expo"]}>
  ```tsx {{ filename: 'app/components/CreateOrganization.tsx' }}
  'use client'

  import { useOrganizationCreationDefaults, useOrganizationList } from '@clerk/nextjs'
  import { FormEventHandler, useEffect, useState } from 'react'

  export default function CreateOrganization() {
    const { isLoaded, createOrganization } = useOrganizationList()
    const { data: defaults, isLoading: isLoadingDefaults } = useOrganizationCreationDefaults()
    const [organizationName, setOrganizationName] = useState('')

    // Pre-populate the form with suggested organization name
    useEffect(() => {
      if (defaults?.form.name) {
        setOrganizationName(defaults.form.name)
      }
    }, [defaults?.form.name])

    if (!isLoaded || isLoadingDefaults) return <p>Loading...</p>

    // Check if an organization with this name/domain already exists
    const advisory = defaults?.advisory
    const showWarning = advisory?.code === 'organization_already_exists'
    const existingOrgName = advisory?.meta?.organization_name
    const existingOrgDomain = advisory?.meta?.organization_domain

    const handleSubmit: FormEventHandler<HTMLFormElement> = async (e) => {
      e.preventDefault()
      try {
        await createOrganization?.({ name: organizationName })
      } catch (err) {
        // See https://clerk.com/docs/guides/development/custom-flows/error-handling
        // for more info on error handling
        console.error(JSON.stringify(err, null, 2))
      }
      setOrganizationName('')
    }

    return (
      <form onSubmit={handleSubmit}>
        <input
          type="text"
          value={organizationName}
          onChange={(e) => setOrganizationName(e.currentTarget.value)}
          placeholder="Organization name"
        />
        {showWarning && (
          <p style={{ color: 'orange' }}>
            An organization "{existingOrgName}" already exists for the domain "{existingOrgDomain}".
          </p>
        )}
        <button type="submit">Create organization</button>
      </form>
    )
  }
  ```
</If>
