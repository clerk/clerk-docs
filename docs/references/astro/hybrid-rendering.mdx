---
title: Astro Hybrid Rendering
description: Clerk supports Astro in hybrid mode out-of-the-box.
---

Astro's on-demand rendering output modes (`server` and `hybrid`) allows you to prerender certain pages while keeping others server-rendered. The Astro SDK supports Astro in hybrid mode out-of-the-box.

## Server output mode

When the output mode is set to `server`, pages are server-rendered on request by default. However, you can opt-in to prerendering specific pages.

### Using Control Components

When using control components ([`Protect`](/docs/components/protect), [`SignedIn`](/docs/components/control/signed-in), [`SignedOut`](/docs/components/control/signed-out)) in server output mode:

- By default, these components will be server-rendered.
- If you opt-in to prerendering a page by adding `export const prerender = true`, you need to add the `isStatic={true}` prop to any control components used on that page. This specifies that the component should use the client-side version which relies on the [client nanostores](/docs/references/astro/auth-store).

```astro {{ filename: 'src/pages/index.astro' }}
---
export const prerender = true
---

<SignedIn isStatic={true}> You are signed in! </SignedIn>
```

## Hybrid output mode

In `hybrid` output mode, pages are prerendered by default. You can opt-out of prerendering for specific pages to make them server-rendered.

### Using Control Components

When using control components in `hybrid` output mode:

- By default, these components will be prerendered.
- If you opt-out of prerendering a page by adding `export const prerender = false`, you need to add the `isStatic={false}` prop to any control components used on that page. This specifies that the component should use the server-side version which relies on the [locals](/docs/references/astro/locals) injected by the middleware.

```astro {{ filename: 'src/pages/index.astro' }}
---
export const prerender = false
---

<SignedIn isStatic={false}> You are signed in! </SignedIn>
```

## Styling considerations

When using the client-side version of control components (i.e., when `isStatic={true}`), be aware of the wrapper element. For example, the `<SignedIn>` component is wrapped in a custom element. This wrapper may affect your styling, so you might need to adjust your CSS selectors accordingly.

For instance, if you want to style the content inside a `<SignedIn>` component, you might need to use a selector like this:

```astro {{ filename: 'src/pages/index.astro' }}
---
export const prerender = true
---

<SignedIn class="signed-in" isStatic={true}> You are signed in! </SignedIn>

<style global>
.signed-in {
  /* Your styles for the wrapper element */
}
</style>
```
