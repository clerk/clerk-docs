---
title: Create a custom Forgot Password flow using Clerk's API
description: Create a custom forgot password flow for your users using the lower level methods provided by the ClerkJS SDK.
---

# Create a custom Forgot Password flow using Clerk's API

Clerk's [prebuilt components](/docs/components/overview) provide a **Forgot Password** flow for your users out of the box. However, if you want more control over the user experience, you can create a custom **Forgot Password** flow using the lower-level methods provided by the [ClerkJS SDK](/docs/references/javascript/overview).

In the following example, the user is asked to provide their email address. After submitting their email, the user is asked to provide a new password and the password reset code that was sent to their email. The user is then signed in with their new password.

Note that this example does not handle error states, and does not handle 2FA (two-factor authentication). If you have 2FA enabled, you will need to handle that separately.

For the sake of this guide, this example is written for Next.js App Router but it is supported by any React meta framework, such as Remix or Gatsby.

{/* TODO: Update this Next.js example (when reset password is complete, it just has 'You successfully changed your password'.. and that's not even in a p tag or anything.), and add JavaScript example. */}

<CodeBlockTabs type="framework" options={["Next.js"]}>
```tsx filename="app/forgot-password.tsx"
"use client"
import React, { SyntheticEvent, useState } from 'react';
import { useSignIn } from '@clerk/nextjs';
import type { NextPage } from 'next';

const SignInPage: NextPage = () => {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [code, setCode] = useState('');
  const [successfulCreation, setSuccessfulCreation] = useState(false);
  const [complete, setComplete] = useState(false);
  const [secondFactor, setSecondFactor] = useState(false);

  const { isLoaded, signIn, setActive } = useSignIn();

  if (!isLoaded) {
    return null;
  }

  async function create(e: SyntheticEvent) {
    e.preventDefault();
    await signIn
      ?.create({
        strategy: 'reset_password_email_code',
        identifier: email,
      })
      .then(_ => {
        setSuccessfulCreation(true);
      })
      .catch(err => console.error('error', err.errors[0].longMessage));
  }

  async function reset(e: SyntheticEvent) {
    e.preventDefault();
    await signIn
      ?.attemptFirstFactor({
        strategy: 'reset_password_email_code',
        code,
        password,
      })
      .then(result => {
        if (result.status === 'needs_second_factor') {
          setSecondFactor(true);
        } else if (result.status === 'complete') {
          setActive({ session: result.createdSessionId });
          setComplete(true);
        } else {
          console.log(result);
        }
      })
      .catch(err => console.error('error', err.errors[0].longMessage));
  }

  return (
    <div
      style={{
        margin: 'auto',
        maxWidth: '500px',
      }}
    >
      <h1>Forgot Password?</h1>
      <form
        style={{
          display: 'flex',
          flexDirection: 'column',
          gap: '1em',
        }}
        onSubmit={!successfulCreation ? create : reset}
      >
        {!successfulCreation && !complete && (
          <>
            <label htmlFor='email'>Please provide your email address</label>
            <input
              type='email'
              placeholder='e.g john@doe.com'
              value={email}
              onChange={e => setEmail(e.target.value)}
            />

            <button>Sign in</button>
          </>
        )}

        {successfulCreation && !complete && (
          <>
            <label htmlFor='password'>Enter your new password</label>
            <input
              type='password'
              value={password}
              onChange={e => setPassword(e.target.value)}
            />

            <label htmlFor='password'>Enter the password reset code that was sent to your email</label>
            <input
              type='text'
              value={code}
              onChange={e => setCode(e.target.value)}
            />

            <button>Reset</button>
          </>
        )}

        {complete && 'You successfully changed your password'}
        {secondFactor && '2FA is required, this UI does not handle that'}
      </form>
    </div>
  );
};

export default SignInPage;
```
</CodeBlockTabs>