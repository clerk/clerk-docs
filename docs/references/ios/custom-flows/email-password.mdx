---
title: Custom email/password flow
description: Clerk provides the `SignUp` and `SignIn` objects, which allow you to build your own custom sign-up and sign-in flows.
---

# Custom email/password flow

Clerk supports password authentication, which allows users to sign up and sign in using their email address and password. This guide will walk you through how to build a custom email/password sign-up and sign-in flow using the `SignUp` and `SignIn` objects.

<Steps>

### Enable password and email

In the Clerk dashboard, you will need to enable both email and password as a sign-in and sign-up method. Go to **User & Authentication > [Email, Phone, and Username](https://dashboard.clerk.com/last-active?path=user-authentication/email-phone-username)**.Toggle on **Email address** and **Password**.

<Images
  width={3024}
  height={1654}
  src="/docs/images/custom-flows/enable-email-password.jpg"
  alt="The 'Email, Phone, and Username' page in the Clerk dashboard. There is a red arrow pointing the title of the page. There are also red arrows pointing to the toggles for 'Email address' and 'Password', both toggled on."
/>

### Create sign up flow

The email/password sign-up flow requires users to provide their email address and their password and returns a newly-created user with an active session.

A successful sign-up consists of the following steps:

1. Initiate the sign-up process by collecting the user's email address and password.
2. Prepare the email address verification, which sends a one-time code to the given address.
3. Attempt to complete the email address verification by supplying the one-time code.
4. If the email address verification is successful and the sign up process completes, you will have a `Session` and a `User` available on the `Clerk` shared instance.

```swift
import SwiftUI
import ClerkSDK

struct SignUpView: View {
    @ObservedObject private var clerk = Clerk.shared
    @State private var emailAddress = ""
    @State private var password = ""
    @State private var verificationCode = ""
    
    var body: some View {
        // if there is already an active SignUp,
        // investigate the SignUp object, to see if
        // the user needs to complete more steps.
        if let signUp = clerk.client?.signUp {
            switch signUp.status {
            case .abandoned:
                //
            case .missingRequirements:
                if signUp.unverifiedFields.contains("email_address") {
                    VStack {
                        TextField("Verification Code", text: $verificationCode)
                        Button("Verify", action: attemptVerification)
                    }
                    .padding()
                }
            case .complete:
                //
            }
        } else {
            // if there is not already an active SignUp,
            // collect the information needed to start a new SignUp
            VStack {
                TextField("Email Address", text: $emailAddress)
                SecureField("Password", text: $password)
                Button("Sign Up", action: signUp)
            }
            .padding()
        }
    }
    
    // This function will handle the user submitting their email and password
    private func signUp() {
        Task {
            do {
                // Start the sign-up process using the email and password provided
                try await clerk.client?.createSignUp(strategy: .standard(emailAddress: emailAddress, password: password))
                // Send the user an email with the verification code
                try await clerk.client?.signUp?.prepareVerification(.emailCode)
            } catch {
                print(error.localizedDescription)
            }
        }
    }
    
    // This function will handle the user submitting a code for verification
    private func attemptVerification() {
        Task {
            do {
                // Submit the code that the user provides to attempt verification
                try await clerk.client?.signUp?.attemptVerification(.emailCode(code: verificationCode))
            } catch {
                print(error.localizedDescription)
            }
        }
    }
}
```  

### Create sign in flow

In email/password authentication, the sign-in is a process that requires users to provide their email address and their password and authenticates them by creating a new session for the user.

```swift
import SwiftUI
import ClerkSDK

struct SignInView: View {
    @ObservedObject private var clerk = Clerk.shared
    @State private var emailAddress = ""
    @State private var password = ""
    
    var body: some View {
        // if there is already an active SignIn,
        // investigate the SignIn object, to see if
        // the user needs to complete more steps.
        if let signIn = clerk.client?.signIn {
            switch signIn.status {
            case .needsIdentifier:
                //
            case .needsFirstFactor:
                //
            case .needsSecondFactor:
                //
            case .needsNewPassword:
                //
            case .complete:
                //
            case .abandoned:
                //
            }
        } else {
            // if there is not already an active SignIn,
            // collect the information needed to start a new SignIn
            VStack {
                TextField("Email", text: $emailAddress)
                SecureField("Password", text: $password)
                Button("Sign In", action: signIn)
            }
            .padding()
        }
    }

    // Handle the submission of the sign-in form
    private func signIn() {
        Task {
            do {
                // Start the sign-in process using the email and password provided
                try await clerk.client?.createSignIn(strategy: .identifier(emailAddress, password: password))
            } catch {
                print(error.localizedDescription)
            }
        }
    }
}
```
</Steps>
