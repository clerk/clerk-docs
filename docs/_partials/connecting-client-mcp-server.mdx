The foundation of your MCP server is now set up. Clients that support the latest MCP spec can now invoke the `get-clerk-user-data` tool to securely fetch user data from your app, assuming the request is authorized with a Clerk OAuth token. Refer to the [guide on verifying OAuth access tokens](/docs/oauth/verify-oauth-tokens) for more information.

To complete the integration, you'll need to connect a MCP-compatible client to your MCP server. Most LLM tools that support MCP allow you to register custom servers in a configuration file.

> [!IMPORTANT]
> Before proceeding, ensure you have toggled on the **Dynamic client registration** option in the [**OAuth Applications**](https://dashboard.clerk.com/last-active?path=user-authentication/oauth-applications) page.
> This setting allows MCP-compatible clients to automatically register themselves with your server during the OAuth flow.

### Example: Connecting Cursor to your MCP server

1. In your project's root, create a `.cursor` folder.
1. Inside this directory, create a `mcp.json` file with the following code.
   ```json {{ filename: '.cursor/mcp.json' }}
   {
     "mcpServers": {
       "mcp-clerk-test": {
         "url": "http://localhost:3000/mcp"
       }
     }
   }
   ```
1. Start your MCP server by running `npm run dev`.
1. Navigate to **Cursor Settings**. To find this, open the **Command Palette** (`Cmd/Ctrl + Shift + P`) and search for **Cursor Settings**, or select the gear icon in the top right corner of the app.
1. In the sidebar, select **Tools & Integrations**. If you don't see this, you may need to update Cursor to the latest version.
1. Under **MCP Tools**, enable the custom MCP server you just added (`mcp-clerk-test`) via the toggle.
1. Select the **Needs login** option when it loads. You'll be redirected to a Clerk OAuth consent screen to authorize Cursor to access your user data.
1. Select **Allow**. Once authorized, the tool `get_clerk_user_data` should be listed as enabled and you should see a green active status.
1. Start a new chat in [**Agent Mode**](https://docs.cursor.com/chat/agent) and prompt it to fetch your Clerk user data (e.g. "What is my Clerk user data?").
1. Select the **Run tool** option once it becomes available. The response will vary based on your prompt, but it should include key details from your Clerk profile, such as:

```yaml
User ID: <user-id>
Username: <username>
First Name: <first-name>
Last Name: <last-name>
Primary Email: <primary-email>
Secondary Email: <secondary-name>
2FA Enabled: No
Account Banned: No
Account Locked: No
Profile Image: <profile-image>
External Accounts: <external-account>
Organization Creation Enabled: Yes
Delete Self Enabled: Yes
```
