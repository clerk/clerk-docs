<If sdk="nextjs">
  ```tsx
  import { auth, clerkClient } from '@clerk/nextjs/server'
  import { OrganizationSwitcher } from '@clerk/nextjs'

  export default async function Page() {
    // Use `auth()` to access the `Auth` object
    // https://clerk.com/docs/reference/backend/types/auth-object
    const { isAuthenticated, orgId, orgRole } = await auth()

    // Check if user is authenticated
    if (!isAuthenticated) return <p>You must be signed in to access this page.</p>

    // Check if there is an Active Organization
    if (!orgId) return <p>Set an Active Organization to access this page.</p>

    // Initialize the JS Backend SDK
    // This varies depending on the SDK you're using
    // https://clerk.com/docs/js-backend/getting-started/quickstart
    const client = await clerkClient()

    // Use the `getOrganization()` method to get the Backend `Organization` object
    const organization = await client.organizations.getOrganization({ organizationId: orgId })

    return (
      <div class="p-8">
        <h1 class="text-2xl font-bold mb-4">
          Welcome to the <strong>{organization.name}</strong> organization
        </h1>
        <p class="mb-6">
          Your role in this organization: <strong>{orgRole}</strong>
        </p>
      </div>
    )
  }
  ```
</If>

<If sdk="react-router">
  In the following example, the loader runs on the server before the `<Welcome />` component renders. This allows you to perform authentication checks before sending any data to the client, so all necessary data is available when the component is rendered.

  ```tsx {{ filename: 'app/routes/home.tsx', collapsible: true }}
  import { redirect } from 'react-router'
  import { clerkClient, getAuth } from '@clerk/react-router/server'
  import type { Organization } from '@clerk/backend'
  import type { Route } from './+types/home'
  import { Welcome } from '../welcome/welcome'

  export function meta({}: Route.MetaArgs) {
    return [
      { title: 'New React Router App' },
      { name: 'description', content: 'Welcome to React Router!' },
    ]
  }

  export async function loader(args: Route.LoaderArgs) {
    // Use the `getAuth()` helper to access the `Auth` object
    // https://clerk.com/docs/reference/backend/types/auth-object
    const { isAuthenticated, orgId, orgRole } = await getAuth(args)

    // Check if the user is authenticated
    if (!isAuthenticated) {
      return redirect('/sign-in?redirect_url=' + args.request.url)
    }

    // Check if there is an Active Organization
    if (!orgId) {
      return { organization: null, orgRole: null, hasOrganization: false }
    }

    // Initialize the JS Backend SDK
    // This varies depending on the SDK you're using
    // https://clerk.com/docs/js-backend/getting-started/quickstart
    // Use the `getOrganization()` method to get the Backend `Organization` object
    const organization = await clerkClient(args).organizations.getOrganization({
      organizationId: orgId,
    })

    return { organization, orgRole }
  }

  export default function Home({ loaderData }: Route.ComponentProps) {
    return (
      <Welcome
        loaderData={
          loaderData as {
            organization: Organization
            orgRole: string | undefined
            hasOrganization?: undefined
          }
        }
      />
    )
  }
  ```

  Update the `<Welcome />` component to display information about the user's Active Organization.

  ```tsx {{ filename: 'app/welcome/welcome.tsx' }}
  type LoaderData = Awaited<ReturnType<typeof import('../routes/home').loader>>

  interface WelcomeProps {
    loaderData: LoaderData
  }

  export function Welcome({ loaderData }: WelcomeProps) {
    if (!loaderData || loaderData instanceof Response) return null

    return (
      <div>
        <h1>Welcome to the {loaderData.organization?.name} Organization</h1>
        <p>Your role in this organization: {loaderData.orgRole}</p>
      </div>
    )
  }
  ```
</If>

<If sdk="astro">
  ```astro {{ filename: 'src/pages/index.astro' }}
  ---
  import Layout from '../layouts/Layout.astro'
  import { SignedIn, SignedOut } from '@clerk/astro/components'
  import { clerkClient } from '@clerk/astro/server'

  // Use the `locals.auth()` local to access the `Auth` object
  // https://clerk.com/docs/reference/backend/types/auth-object
  const { isAuthenticated, orgId, orgRole } = Astro.locals.auth()

  let organization = null
  if (isAuthenticated && orgId) {
    organization = await clerkClient(Astro).organizations.getOrganization({ organizationId: orgId })
  }
  ---

  <Layout title="Clerk + Astro">
    <SignedOut>
      <p>Sign in to try Clerk out!</p>
    </SignedOut>
    <SignedIn>
      {
        organization && (
          <div class="p-8">
            <h1 class="text-2xl font-bold mb-4">
              Welcome to the <strong>{organization.name}</strong> organization
            </h1>
            <p class="mb-6">
              Your role in this organization: <strong>{orgRole}</strong>
            </p>
          </div>
        )
      }
    </SignedIn>
  </Layout>
  ```
</If>

<If sdk="nuxt">
  ```ts {{ filename: 'server/api/organization.ts' }}
  import { clerkClient } from '@clerk/nuxt/server'

  export default defineEventHandler(async (event) => {
    // Use `event.context.auth()` to access the `Auth` object
    // https://clerk.com/docs/reference/backend/types/auth-object
    const { isAuthenticated, orgId } = event.context.auth()

    // Check if the user is authenticated
    if (!isAuthenticated) {
      throw createError({
        statusCode: 401,
        statusMessage: 'Unauthorized: No user ID provided',
      })
    }

    // Check if there is an Active Organization
    if (!orgId) {
      throw createError({
        statusCode: 404,
        statusMessage: 'Set an Active Organization to access this page.',
      })
    }

    // Use the `getOrganization()` method to get the Backend `Organization` object
    const organization = await clerkClient(event).organizations.getOrganization({
      organizationId: orgId,
    })

    return organization
  })
  ```
</If>
